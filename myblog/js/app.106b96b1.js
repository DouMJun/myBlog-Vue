(function(s){function a(a){for(var l,i,c=a[0],v=a[1],_=a[2],r=0,p=[];r<c.length;r++)i=c[r],Object.prototype.hasOwnProperty.call(n,i)&&n[i]&&p.push(n[i][0]),n[i]=0;for(l in v)Object.prototype.hasOwnProperty.call(v,l)&&(s[l]=v[l]);u&&u(a);while(p.length)p.shift()();return e.push.apply(e,_||[]),t()}function t(){for(var s,a=0;a<e.length;a++){for(var t=e[a],l=!0,i=1;i<t.length;i++){var c=t[i];0!==n[c]&&(l=!1)}l&&(e.splice(a--,1),s=v(v.s=t[0]))}return s}var l={},i={app:0},n={app:0},e=[];function c(s){return v.p+"js/"+({}[s]||s)+"."+{"chunk-15166d34":"8aa2f246","chunk-2d0ae519":"eb98fad6","chunk-2d0b671c":"2d89aa4e","chunk-2d0f0005":"2bb0c2c9","chunk-413da5d5":"f025ac67","chunk-78fc16fe":"15b27468","chunk-2d0e9346":"35fb3813","chunk-62cae5c9":"4d568146","chunk-ddf4816e":"4dafe321"}[s]+".js"}function v(a){if(l[a])return l[a].exports;var t=l[a]={i:a,l:!1,exports:{}};return s[a].call(t.exports,t,t.exports,v),t.l=!0,t.exports}v.e=function(s){var a=[],t={"chunk-15166d34":1,"chunk-413da5d5":1,"chunk-78fc16fe":1,"chunk-62cae5c9":1,"chunk-ddf4816e":1};i[s]?a.push(i[s]):0!==i[s]&&t[s]&&a.push(i[s]=new Promise((function(a,t){for(var l="css/"+({}[s]||s)+"."+{"chunk-15166d34":"d0a9eb56","chunk-2d0ae519":"31d6cfe0","chunk-2d0b671c":"31d6cfe0","chunk-2d0f0005":"31d6cfe0","chunk-413da5d5":"4af39df0","chunk-78fc16fe":"c8e5d1f7","chunk-2d0e9346":"31d6cfe0","chunk-62cae5c9":"bda0f082","chunk-ddf4816e":"b5f932d5"}[s]+".css",n=v.p+l,e=document.getElementsByTagName("link"),c=0;c<e.length;c++){var _=e[c],r=_.getAttribute("data-href")||_.getAttribute("href");if("stylesheet"===_.rel&&(r===l||r===n))return a()}var p=document.getElementsByTagName("style");for(c=0;c<p.length;c++){_=p[c],r=_.getAttribute("data-href");if(r===l||r===n)return a()}var u=document.createElement("link");u.rel="stylesheet",u.type="text/css",u.onload=a,u.onerror=function(a){var l=a&&a.target&&a.target.src||n,e=new Error("Loading CSS chunk "+s+" failed.\n("+l+")");e.code="CSS_CHUNK_LOAD_FAILED",e.request=l,delete i[s],u.parentNode.removeChild(u),t(e)},u.href=n;var d=document.getElementsByTagName("head")[0];d.appendChild(u)})).then((function(){i[s]=0})));var l=n[s];if(0!==l)if(l)a.push(l[2]);else{var e=new Promise((function(a,t){l=n[s]=[a,t]}));a.push(l[2]=e);var _,r=document.createElement("script");r.charset="utf-8",r.timeout=120,v.nc&&r.setAttribute("nonce",v.nc),r.src=c(s);var p=new Error;_=function(a){r.onerror=r.onload=null,clearTimeout(u);var t=n[s];if(0!==t){if(t){var l=a&&("load"===a.type?"missing":a.type),i=a&&a.target&&a.target.src;p.message="Loading chunk "+s+" failed.\n("+l+": "+i+")",p.name="ChunkLoadError",p.type=l,p.request=i,t[1](p)}n[s]=void 0}};var u=setTimeout((function(){_({type:"timeout",target:r})}),12e4);r.onerror=r.onload=_,document.head.appendChild(r)}return Promise.all(a)},v.m=s,v.c=l,v.d=function(s,a,t){v.o(s,a)||Object.defineProperty(s,a,{enumerable:!0,get:t})},v.r=function(s){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(s,"__esModule",{value:!0})},v.t=function(s,a){if(1&a&&(s=v(s)),8&a)return s;if(4&a&&"object"===typeof s&&s&&s.__esModule)return s;var t=Object.create(null);if(v.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:s}),2&a&&"string"!=typeof s)for(var l in s)v.d(t,l,function(a){return s[a]}.bind(null,l));return t},v.n=function(s){var a=s&&s.__esModule?function(){return s["default"]}:function(){return s};return v.d(a,"a",a),a},v.o=function(s,a){return Object.prototype.hasOwnProperty.call(s,a)},v.p="/myblog/",v.oe=function(s){throw console.error(s),s};var _=window["webpackJsonp"]=window["webpackJsonp"]||[],r=_.push.bind(_);_.push=a,_=_.slice();for(var p=0;p<_.length;p++)a(_[p]);var u=r;e.push([0,"chunk-vendors"]),t()})({0:function(s,a,t){s.exports=t("56d7")},"034f":function(s,a,t){"use strict";t("85ec")},"0ffb":function(s,a,t){"use strict";t.r(a);var l=function(){var s=this,a=s.$createElement;s._self._c;return s._m(0)},i=[function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("div",{attrs:{id:"write"}},[t("h1",[s._v("从零开始的博客开发(3.1)")]),t("h2",{attrs:{id:"功能"}},[t("a",{attrs:{href:"#功能"}}),s._v(" 功能 ")]),t("ul",[t("li",[s._v("小小改进，把获取文件创建时间的功能写成了webpack插件，这样在打包的过程中就可以自动生成创建时间")]),t("li",[s._v("虽然功能很简单，不过也是开始了解webpack使用的开始，小小记录一下。")]),t("li",[s._v("把手动路径设置改成了使用"),t("code",[s._v("path.resolve(_dirname, '相对路径')")])])]),t("h2",{attrs:{id:"代码"}},[t("a",{attrs:{href:"#代码"}}),s._v(" 代码 ")]),t("pre",{staticClass:"hljs"},[t("code",[t("ol",[t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"1"}})]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"2"}}),t("span",{staticClass:"hljs-keyword"},[s._v("const")]),s._v(" fs = "),t("span",{staticClass:"hljs-built_in"},[s._v("require")]),s._v("("),t("span",{staticClass:"hljs-string"},[s._v("'fs'")]),s._v(")")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"3"}}),t("span",{staticClass:"hljs-keyword"},[s._v("const")]),s._v(" path = "),t("span",{staticClass:"hljs-built_in"},[s._v("require")]),s._v("("),t("span",{staticClass:"hljs-string"},[s._v("'path'")]),s._v(")")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"4"}}),t("span",{staticClass:"hljs-keyword"},[s._v("const")]),s._v(" PATH_STATIC = path.resolve(__dirname, "),t("span",{staticClass:"hljs-string"},[s._v("'../assets/artical/'")]),s._v(")")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"5"}})]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"6"}}),t("span",{staticClass:"hljs-class"},[t("span",{staticClass:"hljs-keyword"},[s._v("class")]),s._v(" "),t("span",{staticClass:"hljs-title"},[s._v("GetFileMakeTime")]),s._v(" ")]),s._v("{")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"7"}}),s._v("  "),t("span",{staticClass:"hljs-function"},[t("span",{staticClass:"hljs-title"},[s._v("constructor")]),s._v("("),t("span",{staticClass:"hljs-params"},[s._v("options")]),s._v(")")]),s._v("{")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"8"}}),s._v("    "),t("span",{staticClass:"hljs-built_in"},[s._v("this")]),s._v(".options = options")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"9"}}),s._v("  }")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"10"}}),s._v("  "),t("span",{staticClass:"hljs-function"},[t("span",{staticClass:"hljs-title"},[s._v("apply")]),s._v("("),t("span",{staticClass:"hljs-params"},[s._v("complier")]),s._v(")")]),s._v(" {")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"11"}}),s._v("    complier.plugin("),t("span",{staticClass:"hljs-string"},[s._v("'entryOption'")]),s._v(", "),t("span",{staticClass:"hljs-function"},[t("span",{staticClass:"hljs-keyword"},[s._v("function")]),s._v("("),t("span",{staticClass:"hljs-params"},[s._v("compilation, callback")]),s._v(") ")]),s._v("{")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"12"}}),s._v("      "),t("span",{staticClass:"hljs-keyword"},[s._v("const")]),s._v(" timeList = []")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"13"}}),s._v("      fs.readdirSync(PATH_STATIC).forEach("),t("span",{staticClass:"hljs-function"},[s._v("("),t("span",{staticClass:"hljs-params"},[s._v("file")]),s._v(") =>")]),s._v(" { ")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"14"}}),s._v("        "),t("span",{staticClass:"hljs-function"},[t("span",{staticClass:"hljs-title"},[s._v("if")]),s._v("("),t("span",{staticClass:"hljs-params"},[s._v("file.search("),t("span",{staticClass:"hljs-regexp"},[s._v("/\\.md*/")]),s._v(") !== -"),t("span",{staticClass:"hljs-number"},[s._v("1")])]),s._v(")")]),s._v("{")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"15"}}),s._v("          timeList.push({")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"16"}}),s._v("              "),t("span",{staticClass:"hljs-attr"},[s._v("file")]),s._v(": file,")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"17"}}),s._v("              "),t("span",{staticClass:"hljs-attr"},[s._v("timeCom")]),s._v(": fs.statSync(PATH_STATIC+"),t("span",{staticClass:"hljs-string"},[s._v("'/'")]),s._v("+file).mtimeMs,")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"18"}}),s._v("              "),t("span",{staticClass:"hljs-attr"},[s._v("time")]),s._v(": fs.statSync(PATH_STATIC+"),t("span",{staticClass:"hljs-string"},[s._v("'/'")]),s._v("+file).mtime")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"19"}}),s._v("            })")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"20"}}),s._v("          }")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"21"}}),s._v("        }")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"22"}}),s._v("      )")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"23"}}),s._v("      fs.writeFile(path.resolve(__dirname,"),t("span",{staticClass:"hljs-string"},[s._v("'../assets/time.js'")]),s._v("), "),t("span",{staticClass:"hljs-string"},[s._v('"export default "')]),s._v("+"),t("span",{staticClass:"hljs-built_in"},[s._v("JSON")]),s._v(".stringify(timeList), "),t("span",{staticClass:"hljs-function"},[s._v("("),t("span",{staticClass:"hljs-params"},[s._v("err")]),s._v(") =>")]),s._v(" {")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"24"}}),s._v("            "),t("span",{staticClass:"hljs-function"},[t("span",{staticClass:"hljs-title"},[s._v("if")]),s._v("("),t("span",{staticClass:"hljs-params"},[s._v("err")]),s._v(")")]),s._v("{")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"25"}}),s._v("              "),t("span",{staticClass:"hljs-built_in"},[s._v("console")]),s._v(".log(err)")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"26"}}),s._v("            }"),t("span",{staticClass:"hljs-keyword"},[s._v("else")]),s._v("{")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"27"}}),s._v("              "),t("span",{staticClass:"hljs-built_in"},[s._v("console")]),s._v(".log("),t("span",{staticClass:"hljs-string"},[s._v('"文件修改时间写入成功！"')]),s._v(")")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"28"}}),s._v("            }")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"29"}}),s._v("      })")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"30"}}),s._v("    });")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"31"}}),s._v("  }")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"32"}}),s._v("}")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"33"}})]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"34"}}),t("span",{staticClass:"hljs-built_in"},[s._v("module")]),s._v(".exports = GetFileMakeTime")])]),t("b",{staticClass:"name"},[s._v("js")])])]),t("h2",{attrs:{id:"总结"}},[t("a",{attrs:{href:"#总结"}}),s._v(" 总结 ")]),t("ul",[t("li",[s._v("因为功能很简单，标题就设置成3.1了😄。")]),t("li",[s._v("用webpack可以把之前的功能优化不少，要好好学习一下。")])])])}],n={data:{title:"从零开始的博客开发(3.1)",sidebar:["功能","代码","总结"]}},e=n,c=t("2877"),v=Object(c["a"])(e,l,i,!1,null,null,null);a["default"]=v.exports},"1daf":function(s,a,t){"use strict";t.d(a,"b",(function(){return n})),t.d(a,"a",(function(){return e}));t("4160"),t("fb6a"),t("d3b7"),t("159b"),t("ddb0");var l=[{file:"AutoSideBar.md",timeCom:1606747295622.726,time:"2020-11-30T14:41:35.623Z"},{file:"AutoSideBar2.md",timeCom:1604733126981.6338,time:"2020-11-07T07:12:06.982Z"},{file:"autosidebar3.md",timeCom:1605706155070.1443,time:"2020-11-18T13:29:15.070Z"},{file:"autosidebar4.md",timeCom:1606401566131.0603,time:"2020-11-26T14:39:26.131Z"},{file:"closure.md",timeCom:1604750844160.8523,time:"2020-11-07T12:07:24.161Z"},{file:"debounce.md",timeCom:1605793936714.871,time:"2020-11-19T13:52:16.715Z"},{file:"mianshizongjie.md",timeCom:1605441257251.6587,time:"2020-11-15T11:54:17.252Z"},{file:"nginxconf2.md",timeCom:1606400730712.4263,time:"2020-11-26T14:25:30.712Z"},{file:"promise.md",timeCom:1606142528509.7617,time:"2020-11-23T14:42:08.510Z"},{file:"README.md",timeCom:1604733255123.9065,time:"2020-11-07T07:14:15.124Z"},{file:"TailRecursion.md",timeCom:1604750789291.061,time:"2020-11-07T12:06:29.291Z"},{file:"vueBlog2.md",timeCom:1606314917725.7715,time:"2020-11-25T14:35:17.726Z"},{file:"vueBlog4.md",timeCom:1606315108712.8044,time:"2020-11-25T14:38:28.713Z"}],i=t("7461"),n=[],e=[];i.keys().forEach((function(s,a){var t={},c={},v={},_=s.slice(2,-3),r=i(i.keys()[a]).default,p=0;t.path=_,t.component=r,p=l[a].timeCom,v=l[a].time,c.timeCom=p,c.title=r.data.title,c.path=_,c.time=v,c.sidebar=r.data.sidebar,e.push(c),n.push(t)})),e.sort((function(s,a){return a.timeCom-s.timeCom}))},"31f2":function(s,a,t){"use strict";t.r(a);var l=function(){var s=this,a=s.$createElement;s._self._c;return s._m(0)},i=[function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("div",{attrs:{id:"write"}},[t("h1",[s._v("AutoSideBar2")]),t("h3",[s._v("起因")]),t("ul",[t("li",[s._v("上次的版本做出来的侧边栏结构有点丑，并且我想要改变一下布局，后来在"),t("a",{attrs:{href:"https://vuepress.vuejs.org/zh/theme/default-theme-config.html#%E5%B5%8C%E5%A5%97%E7%9A%84%E6%A0%87%E9%A2%98%E9%93%BE%E6%8E%A5"}},[s._v("官方文档")]),s._v("看到了另一种侧边栏"),t("pre",{staticClass:"hljs"},[t("code",[t("ol",[t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"1"}}),s._v("  "),t("span",{staticClass:"hljs-comment"},[s._v("// .vuepress/config.js")])]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"2"}}),t("span",{staticClass:"hljs-built_in"},[s._v("module")]),s._v(".exports = {")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"3"}}),s._v("  "),t("span",{staticClass:"hljs-attr"},[s._v("themeConfig")]),s._v(": {")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"4"}}),s._v("    "),t("span",{staticClass:"hljs-attr"},[s._v("sidebar")]),s._v(": {")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"5"}}),s._v("      "),t("span",{staticClass:"hljs-string"},[s._v("'/foo/'")]),s._v(": [")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"6"}}),s._v("        "),t("span",{staticClass:"hljs-string"},[s._v("''")]),s._v(",     "),t("span",{staticClass:"hljs-comment"},[s._v("/* /foo/ */")])]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"7"}}),s._v("        "),t("span",{staticClass:"hljs-string"},[s._v("'one'")]),s._v(",  "),t("span",{staticClass:"hljs-comment"},[s._v("/* /foo/one.html */")])]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"8"}}),s._v("        "),t("span",{staticClass:"hljs-string"},[s._v("'two'")]),s._v("   "),t("span",{staticClass:"hljs-comment"},[s._v("/* /foo/two.html */")])]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"9"}}),s._v("      ],")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"10"}})]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"11"}}),s._v("      "),t("span",{staticClass:"hljs-string"},[s._v("'/bar/'")]),s._v(": [")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"12"}}),s._v("        "),t("span",{staticClass:"hljs-string"},[s._v("''")]),s._v(",      "),t("span",{staticClass:"hljs-comment"},[s._v("/* /bar/ */")])]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"13"}}),s._v("        "),t("span",{staticClass:"hljs-string"},[s._v("'three'")]),s._v(", "),t("span",{staticClass:"hljs-comment"},[s._v("/* /bar/three.html */")])]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"14"}}),s._v("        "),t("span",{staticClass:"hljs-string"},[s._v("'four'")]),s._v("   "),t("span",{staticClass:"hljs-comment"},[s._v("/* /bar/four.html */")])]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"15"}}),s._v("      ],")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"16"}})]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"17"}}),s._v("      "),t("span",{staticClass:"hljs-comment"},[s._v("// fallback")])]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"18"}}),s._v("      "),t("span",{staticClass:"hljs-string"},[s._v("'/'")]),s._v(": [")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"19"}}),s._v("        "),t("span",{staticClass:"hljs-string"},[s._v("''")]),s._v(",        "),t("span",{staticClass:"hljs-comment"},[s._v("/* / */")])]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"20"}}),s._v("        "),t("span",{staticClass:"hljs-string"},[s._v("'contact'")]),s._v(", "),t("span",{staticClass:"hljs-comment"},[s._v("/* /contact.html */")])]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"21"}}),s._v("        "),t("span",{staticClass:"hljs-string"},[s._v("'about'")]),s._v("    "),t("span",{staticClass:"hljs-comment"},[s._v("/* /about.html */")])]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"22"}}),s._v("      ]")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"23"}}),s._v("    }")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"24"}}),s._v("  }")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"25"}}),s._v("}")])]),t("b",{staticClass:"name"},[s._v("javascript")])])]),s._v(" 觉得更符合想要的效果，就稍微改变了一下。")])]),t("h3",[s._v("代码")]),t("pre",{staticClass:"hljs"},[t("code",[t("ol",[t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"1"}}),t("span",{staticClass:"hljs-keyword"},[s._v("const")]),s._v(" fs = "),t("span",{staticClass:"hljs-built_in"},[s._v("require")]),s._v("("),t("span",{staticClass:"hljs-string"},[s._v("'fs'")]),s._v(");"),t("span",{staticClass:"hljs-comment"},[s._v("//")])]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"2"}}),t("span",{staticClass:"hljs-keyword"},[s._v("const")]),s._v(" PUBLIC_PATH = "),t("span",{staticClass:"hljs-string"},[s._v("'D:/webPractice/vuepressblog/docs'")])]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"3"}})]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"4"}}),t("span",{staticClass:"hljs-function"},[t("span",{staticClass:"hljs-keyword"},[s._v("function")]),s._v(" "),t("span",{staticClass:"hljs-title"},[s._v("autoSideBar2")]),s._v("("),t("span",{staticClass:"hljs-params"},[s._v("path")]),s._v(") ")]),s._v("{")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"5"}}),s._v("  "),t("span",{staticClass:"hljs-keyword"},[s._v("var")]),s._v(" strRegex = "),t("span",{staticClass:"hljs-string"},[s._v('"(.md)$"')]),s._v("; ")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"6"}}),s._v("  "),t("span",{staticClass:"hljs-keyword"},[s._v("var")]),s._v(" re= "),t("span",{staticClass:"hljs-keyword"},[s._v("new")]),s._v(" "),t("span",{staticClass:"hljs-built_in"},[s._v("RegExp")]),s._v("(strRegex);")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"7"}})]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"8"}}),s._v("  "),t("span",{staticClass:"hljs-keyword"},[s._v("let")]),s._v(" children = [];")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"9"}}),s._v("  "),t("span",{staticClass:"hljs-keyword"},[s._v("let")]),s._v(" t_path = PUBLIC_PATH + path;")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"10"}}),s._v("  fs.readdirSync(t_path).forEach("),t("span",{staticClass:"hljs-function"},[s._v("("),t("span",{staticClass:"hljs-params"},[s._v("file")]),s._v(") =>")]),s._v(" { ")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"11"}}),s._v("    "),t("span",{staticClass:"hljs-function"},[t("span",{staticClass:"hljs-title"},[s._v("if")]),s._v("("),t("span",{staticClass:"hljs-params"},[s._v("file !== "),t("span",{staticClass:"hljs-string"},[s._v("'README.md'")])]),s._v(")")]),s._v("{")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"12"}}),s._v("      children.push(file.replace(re,"),t("span",{staticClass:"hljs-string"},[s._v('""')]),s._v("));")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"13"}}),s._v("    }")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"14"}}),s._v("  })")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"15"}}),s._v("  "),t("span",{staticClass:"hljs-built_in"},[s._v("console")]),s._v(".log(children);")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"16"}}),s._v("  "),t("span",{staticClass:"hljs-keyword"},[s._v("return")]),s._v(" children;")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"17"}}),s._v("}")])]),t("b",{staticClass:"name"},[s._v("javascript")])])]),t("h3",[s._v("使用")]),t("ul",[t("li",[s._v("现在使用的时候需要传入当前页面的相对路径"),t("pre",{staticClass:"hljs"},[t("code",[t("ol",[t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"1"}}),t("span",{staticClass:"hljs-string"},[s._v("'/guide/BLOG/'")]),s._v(": [")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"2"}}),s._v("        {")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"3"}}),s._v("          "),t("span",{staticClass:"hljs-attr"},[s._v("title")]),s._v(": "),t("span",{staticClass:"hljs-string"},[s._v("'博客'")]),s._v(",")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"4"}}),s._v("          "),t("span",{staticClass:"hljs-attr"},[s._v("children")]),s._v(": autoSideBar2("),t("span",{staticClass:"hljs-string"},[s._v("'/guide/BLOG/'")]),s._v(")")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"5"}}),s._v("        }")])]),t("b",{staticClass:"name"},[s._v("javascript")])])])]),t("li",[s._v("具体原理和上一板相同，只是传出格式有所变化")])])])}],n={data:{title:"AutoSideBar2",sidebar:[]}},e=n,c=t("2877"),v=Object(c["a"])(e,l,i,!1,null,null,null);a["default"]=v.exports},"4e00":function(s,a,t){"use strict";t.r(a);var l=function(){var s=this,a=s.$createElement;s._self._c;return s._m(0)},i=[function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("div",{attrs:{id:"write"}},[t("h1",[s._v("自动侧边栏插件")]),t("p",[s._v("帮助你快速创建侧边栏:")]),t("h2",{attrs:{id:"如何使用："}},[t("a",{attrs:{href:"#如何使用："}}),s._v(" 如何使用： ")]),t("ul",[t("li",[s._v("第一步： 下载"),t("pre",{staticClass:"hljs"},[t("code",[t("ol",[t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"1"}}),s._v("npm install vuepress-auto-sidebar-doumjun")])]),t("b",{staticClass:"name"},[s._v("js")])])])]),t("li",[s._v("第二步： 在config.js文件中引入"),t("pre",{staticClass:"hljs"},[t("code",[t("ol",[t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"1"}}),t("span",{staticClass:"hljs-comment"},[s._v("//config.js")])]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"2"}}),t("span",{staticClass:"hljs-keyword"},[s._v("const")]),s._v(" autosidebar = "),t("span",{staticClass:"hljs-built_in"},[s._v("require")]),s._v("("),t("span",{staticClass:"hljs-string"},[s._v("'vuepress-auto-sidebar-doumjun'")]),s._v(")")])]),t("b",{staticClass:"name"},[s._v("js")])])])]),t("li",[s._v("第三步： 在"),t("code",[s._v("themeconfig")]),s._v("中使用"),t("pre",{staticClass:"hljs"},[t("code",[t("ol",[t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"1"}}),t("span",{staticClass:"hljs-comment"},[s._v("//config.js")])]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"2"}}),t("span",{staticClass:"hljs-attr"},[s._v("themeConfig")]),s._v(": {")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"3"}}),s._v("  ...")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"4"}}),s._v("  "),t("span",{staticClass:"hljs-attr"},[s._v("sidebar")]),s._v(": {")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"5"}}),s._v("      "),t("span",{staticClass:"hljs-string"},[s._v("'/guide/BLOG/'")]),s._v(": [")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"6"}}),s._v("        {")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"7"}}),s._v("          "),t("span",{staticClass:"hljs-attr"},[s._v("title")]),s._v(": "),t("span",{staticClass:"hljs-string"},[s._v("'博客'")]),s._v(","),t("span",{staticClass:"hljs-comment"},[s._v("//此处写标题")])]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"8"}}),s._v("          "),t("span",{staticClass:"hljs-attr"},[s._v("children")]),s._v(": autosidebar("),t("span",{staticClass:"hljs-string"},[s._v("'/guide/BLOG/'")]),s._v(")"),t("span",{staticClass:"hljs-comment"},[s._v("//向autosidebar传入文档所在文件夹的路径")])]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"9"}}),s._v("        }")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"10"}}),s._v("      ]")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"11"}}),s._v("  }")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"12"}}),s._v("  ...")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"13"}}),s._v("}")])]),t("b",{staticClass:"name"},[s._v("js")])])])]),t("li",[s._v("第四步： 打包查看效果"),t("pre",{staticClass:"hljs"},[t("code",[t("ol",[t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"1"}}),s._v("npm run docs:dev")])]),t("b",{staticClass:"name"},[s._v("js")])])])])]),t("h2",{attrs:{id:"上传npm插件"}},[t("a",{attrs:{href:"#上传npm插件"}}),s._v(" 上传npm插件 ")]),t("ul",[t("li",[s._v("在要上传的文件夹下"),t("pre",{staticClass:"hljs"},[t("code",[t("ol",[t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"1"}}),s._v("npm init")])]),t("b",{staticClass:"name"},[s._v("js")])])]),s._v(" 根据提示设置各项信息")]),t("li",[s._v("设置好"),t("code",[s._v("README.md")]),s._v("等文件")]),t("li",[s._v("发布"),t("pre",{staticClass:"hljs"},[t("code",[t("ol",[t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"1"}}),s._v("npm login   //登陆npm")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"2"}}),s._v("npm publish //发布")])])])])])]),t("h2",{attrs:{id:"总结"}},[t("a",{attrs:{href:"#总结"}}),s._v(" 总结 ")]),t("ul",[t("li",[s._v("其实就是把之前写好的函数打包上传到npm了，简单修改了一下路径的获取，别的没怎么变。算是熟悉一下npm的使用吧。")]),t("li",[s._v("后续应该会完善一些功能： "),t("ul",[t("li",[s._v("[ ] 选择是否要排序")]),t("li",[s._v("[ ] 递归获得深层文件")]),t("li",[s._v("[ ] 直接当作插件使用")])])]),t("li",[s._v("突然感觉挖了好多坑hhh，"),t("s",[s._v("咕咕咕")])]),t("li",[s._v("做完之后发现这个功能好像优点鸡肋hhh，vuepress本意就是要自己手动设置目录以便展示文档，自动设置好像没什么卵用，除非是像我一样简单作为记录博客hhh，不过还是记录一下第一次发布的鸡肋插件。")])])])}],n={data:{title:"自动侧边栏插件",sidebar:["如何使用：","上传npm插件","总结"]}},e=n,c=t("2877"),v=Object(c["a"])(e,l,i,!1,null,null,null);a["default"]=v.exports},"55df":function(s,a,t){"use strict";t.r(a);var l=function(){var s=this,a=s.$createElement;s._self._c;return s._m(0)},i=[function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("div",{attrs:{id:"write"}},[t("h1",[s._v("从零开始的博客开发(2)")]),t("h2",{attrs:{id:"功能与问题"}},[t("a",{attrs:{href:"#功能与问题"}}),s._v(" 功能与问题 ")]),t("ul",[t("li",[s._v("提取每篇文章的标题")]),t("li",[s._v("文章按照文件创建时间显示，并且在博客上显示创建时间")]),t("li",[s._v("代码高亮以及添加行号")])]),t("h2",{attrs:{id:"解决"}},[t("a",{attrs:{href:"#解决"}}),s._v(" 解决 ")]),t("ul",[t("li",[s._v("关于标题提取:通过简单的正则匹配获得第一个"),t("code",[s._v("<h1>")]),s._v("标签"),t("pre",{staticClass:"hljs"},[t("code",[t("ol",[t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"1"}}),t("span",{staticClass:"hljs-function"},[t("span",{staticClass:"hljs-keyword"},[s._v("function")]),s._v(" "),t("span",{staticClass:"hljs-title"},[s._v("getTitle")]),s._v("("),t("span",{staticClass:"hljs-params"},[s._v("html")]),s._v(") ")]),s._v("{")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"2"}}),t("span",{staticClass:"hljs-keyword"},[s._v("var")]),s._v(" reg = "),t("span",{staticClass:"hljs-regexp"},[s._v("/<h1>([\\s\\S]*?)<\\/h1>/")])]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"3"}}),t("span",{staticClass:"hljs-function"},[t("span",{staticClass:"hljs-title"},[s._v("if")]),s._v("("),t("span",{staticClass:"hljs-params"},[s._v("html.match(reg)")]),s._v(")")]),s._v("{")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"4"}}),s._v("    "),t("span",{staticClass:"hljs-keyword"},[s._v("return")]),s._v(" html.match(reg)["),t("span",{staticClass:"hljs-number"},[s._v("1")]),s._v("]")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"5"}}),s._v("  }"),t("span",{staticClass:"hljs-keyword"},[s._v("else")]),s._v("{")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"6"}}),s._v("    "),t("span",{staticClass:"hljs-keyword"},[s._v("return")]),s._v(" "),t("span",{staticClass:"hljs-string"},[s._v("''")])]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"7"}}),s._v("  }")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"8"}}),s._v("}")])]),t("b",{staticClass:"name"},[s._v("javascript")])])])]),t("li",[s._v("创建时间：由于对webpack还不熟悉，用了一个比较傻瓜的方法。新建一个"),t("code",[s._v("getTime.js")]),s._v("文件，用于读取每个文章的创建时间分别用"),t("code",[s._v("mtimeMs")]),s._v("和"),t("code",[s._v("mtime")]),s._v("保存，前者用于比较，后者用于显示。将每个文件名称以及对应的创建时间，作为一个对象。将所有文件的对象组成一个数组，导出到一个新的文件"),t("code",[s._v("time.js")]),s._v("里边用于存储。当Vue读取各个组件时，将"),t("code",[s._v("time.js")]),s._v("导入，再将每个文件对应的时间提取出来，用于排序和显示。 代码如下："),t("pre",{staticClass:"hljs"},[t("code",[t("ol",[t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"1"}}),t("span",{staticClass:"hljs-comment"},[s._v("//getTime.js")])]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"2"}}),t("span",{staticClass:"hljs-keyword"},[s._v("const")]),s._v(" PATH_STATIC = "),t("span",{staticClass:"hljs-string"},[s._v("'D:/webPractice/myBlog/myblog/src/assets/artical/'")])]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"3"}}),t("span",{staticClass:"hljs-keyword"},[s._v("const")]),s._v(" timeList = []")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"4"}}),s._v("fs.readdirSync(PATH_STATIC).forEach("),t("span",{staticClass:"hljs-function"},[s._v("("),t("span",{staticClass:"hljs-params"},[s._v("file")]),s._v(") =>")]),s._v(" { ")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"5"}}),s._v("  "),t("span",{staticClass:"hljs-function"},[t("span",{staticClass:"hljs-title"},[s._v("if")]),s._v("("),t("span",{staticClass:"hljs-params"},[s._v("file.search("),t("span",{staticClass:"hljs-regexp"},[s._v("/\\.md*/")]),s._v(") !== -"),t("span",{staticClass:"hljs-number"},[s._v("1")])]),s._v(")")]),s._v("{")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"6"}}),s._v("    timeList.push(")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"7"}}),s._v("      {")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"8"}}),s._v("        "),t("span",{staticClass:"hljs-attr"},[s._v("file")]),s._v(": file,")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"9"}}),s._v("        "),t("span",{staticClass:"hljs-attr"},[s._v("timeCom")]),s._v(": fs.statSync(PATH_STATIC+file).mtimeMs,")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"10"}}),s._v("        "),t("span",{staticClass:"hljs-attr"},[s._v("time")]),s._v(": fs.statSync(PATH_STATIC+file).mtime")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"11"}}),s._v("      }")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"12"}}),s._v("    )")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"13"}}),s._v("    }")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"14"}}),s._v("  }")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"15"}}),s._v(")")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"16"}}),s._v("fs.writeFile("),t("span",{staticClass:"hljs-string"},[s._v("'./src/assets/time.js'")]),s._v(", "),t("span",{staticClass:"hljs-string"},[s._v('"export default "')]),s._v("+"),t("span",{staticClass:"hljs-built_in"},[s._v("JSON")]),s._v(".stringify(timeList), "),t("span",{staticClass:"hljs-function"},[s._v("("),t("span",{staticClass:"hljs-params"},[s._v("err")]),s._v(") =>")]),s._v(" {")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"17"}}),s._v("      "),t("span",{staticClass:"hljs-function"},[t("span",{staticClass:"hljs-title"},[s._v("if")]),s._v("("),t("span",{staticClass:"hljs-params"},[s._v("err")]),s._v(")")]),s._v("{")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"18"}}),s._v("        "),t("span",{staticClass:"hljs-built_in"},[s._v("console")]),s._v(".log(err)")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"19"}}),s._v("      }"),t("span",{staticClass:"hljs-keyword"},[s._v("else")]),s._v("{")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"20"}}),s._v("        "),t("span",{staticClass:"hljs-built_in"},[s._v("console")]),s._v(".log("),t("span",{staticClass:"hljs-string"},[s._v('"文件修改时间写入成功！"')]),s._v(")")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"21"}}),s._v("      }")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"22"}}),s._v("})")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"23"}})]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"24"}}),t("span",{staticClass:"hljs-comment"},[s._v("//fileAPI.js")])]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"25"}}),t("span",{staticClass:"hljs-keyword"},[s._v("const")]),s._v(" files = "),t("span",{staticClass:"hljs-built_in"},[s._v("require")]),s._v(".context("),t("span",{staticClass:"hljs-string"},[s._v("'@assets/artical/'")]),s._v(", "),t("span",{staticClass:"hljs-literal"},[s._v("false")]),s._v(", "),t("span",{staticClass:"hljs-regexp"},[s._v("/\\.md$/")]),s._v(")")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"26"}}),t("span",{staticClass:"hljs-keyword"},[s._v("import")]),s._v(" Time "),t("span",{staticClass:"hljs-keyword"},[s._v("from")]),s._v(" "),t("span",{staticClass:"hljs-string"},[s._v('"@assets/time.js"')])]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"27"}})]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"28"}}),t("span",{staticClass:"hljs-keyword"},[s._v("const")]),s._v(" test = "),t("span",{staticClass:"hljs-built_in"},[s._v("require")]),s._v("("),t("span",{staticClass:"hljs-string"},[s._v("'@assets/artical/'")]),s._v(")")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"29"}})]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"30"}}),t("span",{staticClass:"hljs-keyword"},[s._v("const")]),s._v(" componentLists = []")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"31"}}),t("span",{staticClass:"hljs-keyword"},[s._v("const")]),s._v(" children = []")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"32"}}),t("span",{staticClass:"hljs-keyword"},[s._v("const")]),s._v(" pathLists = []")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"33"}}),t("span",{staticClass:"hljs-keyword"},[s._v("const")]),s._v(" articalLists = []")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"34"}})]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"35"}}),s._v("files.keys().forEach("),t("span",{staticClass:"hljs-function"},[s._v("("),t("span",{staticClass:"hljs-params"},[s._v("item, index")]),s._v(") =>")]),s._v(" {")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"36"}}),s._v("  "),t("span",{staticClass:"hljs-keyword"},[s._v("let")]),s._v(" routeItem = {}")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"37"}}),s._v("  "),t("span",{staticClass:"hljs-keyword"},[s._v("let")]),s._v(" articalInfo = {}")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"38"}}),s._v("  "),t("span",{staticClass:"hljs-keyword"},[s._v("let")]),s._v(" time = {}")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"39"}}),s._v("  "),t("span",{staticClass:"hljs-keyword"},[s._v("let")]),s._v(" path = item.slice("),t("span",{staticClass:"hljs-number"},[s._v("2")]),s._v(", -"),t("span",{staticClass:"hljs-number"},[s._v("3")]),s._v(")")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"40"}}),s._v("  "),t("span",{staticClass:"hljs-keyword"},[s._v("let")]),s._v(" component = files(files.keys()[index]).default")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"41"}}),s._v("  "),t("span",{staticClass:"hljs-keyword"},[s._v("let")]),s._v(" title = component.data.title")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"42"}}),s._v("  "),t("span",{staticClass:"hljs-keyword"},[s._v("let")]),s._v(" timeCom = "),t("span",{staticClass:"hljs-number"},[s._v("0")])]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"43"}}),s._v("  routeItem.path = path")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"44"}}),s._v("  routeItem.component = component")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"45"}})]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"46"}}),s._v("  timeCom = Time[index].timeCom")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"47"}}),s._v("  time = Time[index].time")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"48"}})]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"49"}}),s._v("  articalInfo.timeCom = timeCom")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"50"}}),s._v("  articalInfo.title = title")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"51"}}),s._v("  articalInfo.path = path")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"52"}}),s._v("  articalInfo.time = time")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"53"}})]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"54"}}),s._v("  articalLists.push(articalInfo)")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"55"}}),s._v("  children.push(routeItem)")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"56"}}),s._v("})")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"57"}}),s._v("articalLists.sort("),t("span",{staticClass:"hljs-function"},[s._v("("),t("span",{staticClass:"hljs-params"},[s._v("a, b")]),s._v(") =>")]),s._v(" {")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"58"}}),s._v("  "),t("span",{staticClass:"hljs-keyword"},[s._v("return")]),s._v(" b.timeCom - a.timeCom")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"59"}}),s._v("})")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"60"}})]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"61"}})]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"62"}})]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"63"}}),t("span",{staticClass:"hljs-keyword"},[s._v("export")]),s._v(" {children, articalLists} ")])]),t("b",{staticClass:"name"},[s._v("javascript")])])])])])])}],n={data:{title:"从零开始的博客开发(2)",sidebar:["功能与问题","解决"]}},e=n,c=t("2877"),v=Object(c["a"])(e,l,i,!1,null,null,null);a["default"]=v.exports},"56d7":function(s,a,t){"use strict";t.r(a);t("e260"),t("e6cf"),t("cca6"),t("a79d");var l=t("2b0e"),i=function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},n=[],e={name:"App"},c=e,v=(t("034f"),t("2877")),_=Object(v["a"])(c,i,n,!1,null,null,null),r=_.exports,p=(t("d3b7"),t("8c4f")),u=t("1daf"),d=function(){return t.e("chunk-ddf4816e").then(t.bind(null,"6b61"))},C=function(){return Promise.all([t.e("chunk-78fc16fe"),t.e("chunk-62cae5c9")]).then(t.bind(null,"66ba"))},m=function(){return t.e("chunk-2d0b671c").then(t.bind(null,"1cd8"))},o=function(){return t.e("chunk-2d0ae519").then(t.bind(null,"0a0b"))},h=function(){return t.e("chunk-2d0f0005").then(t.bind(null,"9b06"))},j=function(){return t.e("chunk-413da5d5").then(t.bind(null,"9c8e"))},f=function(){return t.e("chunk-15166d34").then(t.bind(null,"b3d7"))};l["a"].use(p["a"]);var b=[{path:"/main",name:"Main",component:d,children:[{path:"/",redirect:"home/"},{path:"blog",name:"blog",component:C,children:u["b"]},{path:"special",component:o},{path:"archive",component:m},{path:"comment",component:h},{path:"aboutme",name:"aboutme",component:j},{path:"home",name:"home",component:f}]},{path:"/",redirect:"/main/"}],y=new p["a"]({routes:b}),w=y,k=t("2f62");l["a"].use(k["a"]);var g=new k["a"].Store({state:{},mutations:{},actions:{},modules:{}});l["a"].config.productionTip=!1,new l["a"]({router:w,store:g,render:function(s){return s(r)}}).$mount("#app")},"5e15":function(s,a,t){"use strict";t.r(a);var l=function(){var s=this,a=s.$createElement;s._self._c;return s._m(0)},i=[function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("div",{attrs:{id:"write"}},[t("h1",[s._v("用Nginx在同一端口挂多个页面")]),t("p",[s._v("想把正在做的博客和之前的商城一起放到服务器上，记录一下配置过程。")]),t("h2",{attrs:{id:"配置"}},[t("a",{attrs:{href:"#配置"}}),s._v(" 配置 ")]),t("ul",[t("li",[t("p",[s._v("只是在nginx.conf文件下添加了一点东西")]),t("pre",{staticClass:"hljs"},[t("code",[t("ol",[t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"1"}}),s._v("location /myblog {")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"2"}}),s._v("  alias /... //文件目录,要用alias而不是root不然会报错")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"3"}}),s._v("  index index.html index.htm")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"4"}}),s._v("}")])]),t("b",{staticClass:"name"},[s._v("shell")])])])]),t("li",[t("p",[s._v("同时在打包文件的时候设置"),t("code",[s._v("publicPath: '/myblog'")]),s._v("，不然找不到资源文件。")])]),t("li",[t("p",[s._v("把本地文件上传到远程linux服务器"),t("code",[s._v("scp -r ./filename usrname@ip:/filename")]),s._v("，递归复制整个目录要加"),t("code",[s._v("-r")]),s._v("，"),t("a",{attrs:{href:"https://www.runoob.com/linux/linux-comm-scp.html"}},[s._v("更多参数")])])])]),t("h2",{attrs:{id:"总结"}},[t("a",{attrs:{href:"#总结"}}),s._v(" 总结 ")]),t("ul",[t("li",[s._v("简单记录一下配置免得忘了")])])])}],n={data:{title:"用Nginx在同一端口挂多个页面",sidebar:["配置","总结"]}},e=n,c=t("2877"),v=Object(c["a"])(e,l,i,!1,null,null,null);a["default"]=v.exports},7461:function(s,a,t){var l={"./AutoSideBar.md":"d6af","./AutoSideBar2.md":"31f2","./README.md":"e56a","./TailRecursion.md":"b0be","./autosidebar3.md":"b8c0","./autosidebar4.md":"4e00","./closure.md":"8881","./debounce.md":"775b","./mianshizongjie.md":"ac3b","./nginxconf2.md":"5e15","./promise.md":"e687","./vueBlog2.md":"55df","./vueBlog4.md":"0ffb"};function i(s){var a=n(s);return t(a)}function n(s){if(!t.o(l,s)){var a=new Error("Cannot find module '"+s+"'");throw a.code="MODULE_NOT_FOUND",a}return l[s]}i.keys=function(){return Object.keys(l)},i.resolve=n,s.exports=i,i.id="7461"},"775b":function(s,a,t){"use strict";t.r(a);var l=function(){var s=this,a=s.$createElement;s._self._c;return s._m(0)},i=[function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("div",{attrs:{id:"write"}},[t("h1",[s._v("关于防抖与节流")]),t("ul",[t("li",[t("p",[s._v("简单记录一下，防抖就是防止连按，把所有连续触发缩减成一次触发，就像上电梯一样，只要在门关上之前有人要上，就会重新计算关门时间，电梯就不会走。")])]),t("li",[t("p",[s._v("节流就是把一段时间里的多次操作简化为一次")])])]),t("h2",{attrs:{id:"简单实现"}},[t("a",{attrs:{href:"#简单实现"}}),s._v(" 简单实现 ")]),t("pre",{staticClass:"hljs"},[t("code",[t("ol",[t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"1"}})]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"2"}}),s._v("  "),t("span",{staticClass:"hljs-function"},[t("span",{staticClass:"hljs-keyword"},[s._v("function")]),s._v(" "),t("span",{staticClass:"hljs-title"},[s._v("debounce")]),s._v("("),t("span",{staticClass:"hljs-params"},[s._v("fn, delay = "),t("span",{staticClass:"hljs-number"},[s._v("200")])]),s._v(") ")]),s._v("{")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"3"}}),s._v("    "),t("span",{staticClass:"hljs-keyword"},[s._v("if")]),s._v(" ("),t("span",{staticClass:"hljs-keyword"},[s._v("typeof")]),s._v(" fn !== "),t("span",{staticClass:"hljs-string"},[s._v("'function'")]),s._v(") { ")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"4"}}),s._v("        "),t("span",{staticClass:"hljs-keyword"},[s._v("throw")]),s._v(" "),t("span",{staticClass:"hljs-keyword"},[s._v("new")]),s._v(" "),t("span",{staticClass:"hljs-built_in"},[s._v("TypeError")]),s._v("("),t("span",{staticClass:"hljs-string"},[s._v("'fn is not a function'")]),s._v(");")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"5"}}),s._v("    }")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"6"}}),s._v("    ")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"7"}}),s._v("    "),t("span",{staticClass:"hljs-keyword"},[s._v("var")]),s._v(" lastFn = "),t("span",{staticClass:"hljs-literal"},[s._v("null")]),s._v("; ")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"8"}}),s._v("    "),t("span",{staticClass:"hljs-keyword"},[s._v("return")]),s._v(" "),t("span",{staticClass:"hljs-function"},[t("span",{staticClass:"hljs-keyword"},[s._v("function")]),s._v("("),t("span",{staticClass:"hljs-params"},[s._v("...args")]),s._v(") ")]),s._v("{")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"9"}}),s._v("        "),t("span",{staticClass:"hljs-keyword"},[s._v("if")]),s._v(" (lastFn) {")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"10"}}),s._v("             "),t("span",{staticClass:"hljs-built_in"},[s._v("clearTimeout")]),s._v("(lastFn);")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"11"}}),s._v("        }")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"12"}}),s._v("        lastFn = "),t("span",{staticClass:"hljs-built_in"},[s._v("setTimeout")]),s._v("("),t("span",{staticClass:"hljs-function"},[s._v("() =>")]),s._v(" {")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"13"}}),s._v("            lastFn = "),t("span",{staticClass:"hljs-literal"},[s._v("null")]),s._v(";")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"14"}}),s._v("            fn.call("),t("span",{staticClass:"hljs-built_in"},[s._v("this")]),s._v(", ...args);")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"15"}}),s._v("        }, delay);")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"16"}}),s._v("    }")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"17"}}),s._v("}")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"18"}})]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"19"}}),t("span",{staticClass:"hljs-function"},[t("span",{staticClass:"hljs-keyword"},[s._v("function")]),s._v(" "),t("span",{staticClass:"hljs-title"},[s._v("throttle")]),s._v(" ("),t("span",{staticClass:"hljs-params"},[s._v("fn, time = "),t("span",{staticClass:"hljs-number"},[s._v("500")])]),s._v(") ")]),s._v("{")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"20"}}),s._v("  "),t("span",{staticClass:"hljs-keyword"},[s._v("if")]),s._v(" ("),t("span",{staticClass:"hljs-keyword"},[s._v("typeof")]),s._v(" fn !== "),t("span",{staticClass:"hljs-string"},[s._v("'function'")]),s._v(") { ")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"21"}}),s._v("        "),t("span",{staticClass:"hljs-keyword"},[s._v("throw")]),s._v(" "),t("span",{staticClass:"hljs-keyword"},[s._v("new")]),s._v(" "),t("span",{staticClass:"hljs-built_in"},[s._v("TypeError")]),s._v("("),t("span",{staticClass:"hljs-string"},[s._v("'fn is not a function'")]),s._v(");")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"22"}}),s._v("    }")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"23"}}),s._v("  "),t("span",{staticClass:"hljs-keyword"},[s._v("var")]),s._v(" flag = "),t("span",{staticClass:"hljs-literal"},[s._v("null")])]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"24"}}),s._v("  "),t("span",{staticClass:"hljs-keyword"},[s._v("return")]),s._v(" "),t("span",{staticClass:"hljs-function"},[t("span",{staticClass:"hljs-keyword"},[s._v("function")]),s._v("("),t("span",{staticClass:"hljs-params"},[s._v("...arg")]),s._v(") ")]),s._v("{")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"25"}}),s._v("    "),t("span",{staticClass:"hljs-function"},[t("span",{staticClass:"hljs-title"},[s._v("if")]),s._v("("),t("span",{staticClass:"hljs-params"},[s._v("flag")]),s._v(")")]),s._v("{")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"26"}}),s._v("      "),t("span",{staticClass:"hljs-keyword"},[s._v("return")])]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"27"}}),s._v("    }")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"28"}}),s._v("    flag = "),t("span",{staticClass:"hljs-literal"},[s._v("true")])]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"29"}}),s._v("    "),t("span",{staticClass:"hljs-built_in"},[s._v("setTimeout")]),s._v("("),t("span",{staticClass:"hljs-function"},[s._v("() =>")]),s._v(" {")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"30"}}),s._v("      flag = "),t("span",{staticClass:"hljs-literal"},[s._v("false")])]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"31"}}),s._v("      fn.call("),t("span",{staticClass:"hljs-built_in"},[s._v("this")]),s._v(", ...arg)")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"32"}}),s._v("    }, time)")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"33"}}),s._v("  }")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"34"}}),s._v("  ")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"35"}}),s._v("}")])]),t("b",{staticClass:"name"},[s._v("javascript")])])])])}],n={data:{title:"关于防抖与节流",sidebar:["简单实现"]}},e=n,c=t("2877"),v=Object(c["a"])(e,l,i,!1,null,null,null);a["default"]=v.exports},"85ec":function(s,a,t){},8881:function(s,a,t){"use strict";t.r(a);var l=function(){var s=this,a=s.$createElement;s._self._c;return s._m(0)},i=[function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("div",{attrs:{id:"write"}},[t("h1",[s._v("关于闭包")]),t("h2",{attrs:{id:"定义"}},[t("a",{attrs:{href:"#定义"}}),s._v(" 定义 ")]),t("ul",[t("li",[s._v("引用MDN的定义 "),t("blockquote",[t("p",[s._v("一个函数和对其周围状态（lexical environment，词法环境）的引用捆绑在一起（或者说函数被引用包围），这样的组合就是闭包（closure）。也就是说，闭包让你可以在一个内层函数中访问到其外层函数的作用域。在 JavaScript 中，每当创建一个函数，闭包就会在函数创建的同时被创建出来。")])])]),t("li",[s._v("简单地说，闭包就是’创建的函数’+‘创建函数时其外部作用域的变量的引用’")])]),t("h2",{attrs:{id:"示例"}},[t("a",{attrs:{href:"#示例"}}),s._v(" 示例 ")]),t("p",[s._v("一个简单的示例：")]),t("pre",{staticClass:"hljs"},[t("code",[t("ol",[t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"1"}}),t("span",{staticClass:"hljs-function"},[t("span",{staticClass:"hljs-keyword"},[s._v("function")]),s._v(" "),t("span",{staticClass:"hljs-title"},[s._v("mkAlert")]),s._v("("),t("span",{staticClass:"hljs-params"}),s._v(") ")]),s._v("{")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"2"}}),s._v("  "),t("span",{staticClass:"hljs-keyword"},[s._v("var")]),s._v(" name = "),t("span",{staticClass:"hljs-string"},[s._v("'long'")]),s._v(";")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"3"}}),s._v("  "),t("span",{staticClass:"hljs-function"},[t("span",{staticClass:"hljs-keyword"},[s._v("function")]),s._v(" "),t("span",{staticClass:"hljs-title"},[s._v("alert1")]),s._v("("),t("span",{staticClass:"hljs-params"}),s._v(") ")]),s._v("{")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"4"}}),s._v("    alert(name);")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"5"}}),s._v("  }")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"6"}}),s._v("  "),t("span",{staticClass:"hljs-keyword"},[s._v("return")]),s._v(" alert1;")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"7"}}),s._v("}")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"8"}})]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"9"}}),t("span",{staticClass:"hljs-keyword"},[s._v("var")]),s._v(" myFunc = mkAlert();")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"10"}}),s._v("myFunc();")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"11"}}),t("span",{staticClass:"hljs-comment"},[s._v("//alert(long)")])])]),t("b",{staticClass:"name"},[s._v("javascript")])])]),t("p",[s._v("函数"),t("code",[s._v("alert1")]),s._v("在执行之前被返回给"),t("code",[s._v("myFunc")]),s._v("变量，返回的内容包括了"),t("code",[s._v("alert1")]),s._v("函数，以及其外部函数的变量的引用，即"),t("code",[s._v("name")]),s._v("的引用。所以在调用myFunc()时仍然可以使用name变量。"),t("br"),s._v(" 上述例子也可以写为：")]),t("pre",{staticClass:"hljs"},[t("code",[t("ol",[t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"1"}}),t("span",{staticClass:"hljs-function"},[t("span",{staticClass:"hljs-keyword"},[s._v("function")]),s._v(" "),t("span",{staticClass:"hljs-title"},[s._v("mkAlert")]),s._v("("),t("span",{staticClass:"hljs-params"}),s._v(") ")]),s._v("{")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"2"}}),s._v("  "),t("span",{staticClass:"hljs-keyword"},[s._v("var")]),s._v(" name = "),t("span",{staticClass:"hljs-string"},[s._v("'long'")]),s._v(";")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"3"}}),s._v("  "),t("span",{staticClass:"hljs-keyword"},[s._v("return")]),s._v(" "),t("span",{staticClass:"hljs-function"},[t("span",{staticClass:"hljs-keyword"},[s._v("function")]),s._v(" "),t("span",{staticClass:"hljs-title"},[s._v("alert1")]),s._v("("),t("span",{staticClass:"hljs-params"}),s._v(") ")]),s._v("{")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"4"}}),s._v("    alert(name);")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"5"}}),s._v("  }")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"6"}}),s._v("}")])]),t("b",{staticClass:"name"},[s._v("javascript")])])]),t("hr"),t("p",[s._v("另一个示例")]),t("pre",{staticClass:"hljs"},[t("code",[t("ol",[t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"1"}}),t("span",{staticClass:"hljs-function"},[t("span",{staticClass:"hljs-keyword"},[s._v("function")]),s._v(" "),t("span",{staticClass:"hljs-title"},[s._v("add")]),s._v("("),t("span",{staticClass:"hljs-params"},[s._v("x")]),s._v(") ")]),s._v("{")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"2"}}),s._v("  "),t("span",{staticClass:"hljs-keyword"},[s._v("return")]),s._v(" "),t("span",{staticClass:"hljs-function"},[t("span",{staticClass:"hljs-keyword"},[s._v("function")]),s._v(" "),t("span",{staticClass:"hljs-title"},[s._v("sum")]),s._v("("),t("span",{staticClass:"hljs-params"},[s._v("y")]),s._v(") ")]),s._v("{")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"3"}}),s._v("    "),t("span",{staticClass:"hljs-keyword"},[s._v("return")]),s._v(" x + y")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"4"}}),s._v("  }")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"5"}}),s._v("}")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"6"}})]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"7"}}),t("span",{staticClass:"hljs-keyword"},[s._v("var")]),s._v(" myFunc1 = add("),t("span",{staticClass:"hljs-number"},[s._v("2")]),s._v(");")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"8"}}),t("span",{staticClass:"hljs-keyword"},[s._v("var")]),s._v(" myFunc2 = add("),t("span",{staticClass:"hljs-number"},[s._v("10")]),s._v(");")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"9"}})]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"10"}}),t("span",{staticClass:"hljs-built_in"},[s._v("console")]),s._v(".log(myFunc1("),t("span",{staticClass:"hljs-number"},[s._v("10")]),s._v("));"),t("span",{staticClass:"hljs-comment"},[s._v("//12")])]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"11"}}),t("span",{staticClass:"hljs-built_in"},[s._v("console")]),s._v(".log(myFunc2("),t("span",{staticClass:"hljs-number"},[s._v("10")]),s._v("));"),t("span",{staticClass:"hljs-comment"},[s._v("//20")])]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"12"}})])]),t("b",{staticClass:"name"},[s._v("javascript")])])]),t("p",[s._v("此时在声名"),t("code",[s._v("myFunc1")]),s._v("时传入的参数2,作为变量x的值被包含在"),t("code",[s._v("sum()")]),s._v("上下文中。随人返回给"),t("code",[s._v("myFunc1")]),s._v("和"),t("code",[s._v("myFunc1")]),s._v("的"),t("code",[s._v("sum()")]),s._v("函数内部代码是一样的，但是创建函数时其外部作用域的变量x的值是不同的，因而会得到不同的数值。")]),t("h2",{attrs:{id:"一个巧妙的用法"}},[t("a",{attrs:{href:"#一个巧妙的用法"}}),s._v(" 一个巧妙的用法 ")]),t("p",[s._v("看以下代码")]),t("pre",{staticClass:"hljs"},[t("code",[t("ol",[t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"1"}}),t("span",{staticClass:"hljs-function"},[t("span",{staticClass:"hljs-keyword"},[s._v("function")]),s._v(" "),t("span",{staticClass:"hljs-title"},[s._v("tco")]),s._v("("),t("span",{staticClass:"hljs-params"},[s._v("f")]),s._v(") ")]),s._v("{")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"2"}}),s._v("  "),t("span",{staticClass:"hljs-keyword"},[s._v("var")]),s._v(" value;")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"3"}}),s._v("  "),t("span",{staticClass:"hljs-keyword"},[s._v("var")]),s._v(" active = "),t("span",{staticClass:"hljs-literal"},[s._v("false")]),s._v(";")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"4"}}),s._v("  "),t("span",{staticClass:"hljs-keyword"},[s._v("var")]),s._v(" accumulated = [];")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"5"}})]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"6"}}),s._v("  "),t("span",{staticClass:"hljs-keyword"},[s._v("return")]),s._v(" "),t("span",{staticClass:"hljs-function"},[t("span",{staticClass:"hljs-keyword"},[s._v("function")]),s._v(" "),t("span",{staticClass:"hljs-title"},[s._v("accumulator")]),s._v("("),t("span",{staticClass:"hljs-params"}),s._v(") ")]),s._v("{")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"7"}}),s._v("    accumulated.push("),t("span",{staticClass:"hljs-built_in"},[s._v("arguments")]),s._v(");")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"8"}}),s._v("    "),t("span",{staticClass:"hljs-keyword"},[s._v("if")]),s._v(" (!active) {")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"9"}}),s._v("      active = "),t("span",{staticClass:"hljs-literal"},[s._v("true")]),s._v(";")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"10"}}),s._v("      "),t("span",{staticClass:"hljs-keyword"},[s._v("while")]),s._v(" (accumulated.length) {")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"11"}}),s._v("        value = f.apply("),t("span",{staticClass:"hljs-built_in"},[s._v("this")]),s._v(", accumulated.shift());")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"12"}}),s._v("      }")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"13"}}),s._v("      active = "),t("span",{staticClass:"hljs-literal"},[s._v("false")]),s._v(";")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"14"}}),s._v("      "),t("span",{staticClass:"hljs-keyword"},[s._v("return")]),s._v(" value;")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"15"}}),s._v("    }")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"16"}}),s._v("  };")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"17"}}),s._v("}")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"18"}})]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"19"}}),t("span",{staticClass:"hljs-keyword"},[s._v("var")]),s._v(" sum = tco("),t("span",{staticClass:"hljs-function"},[t("span",{staticClass:"hljs-keyword"},[s._v("function")]),s._v("("),t("span",{staticClass:"hljs-params"},[s._v("x, y")]),s._v(") ")]),s._v("{")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"20"}}),s._v("  "),t("span",{staticClass:"hljs-keyword"},[s._v("if")]),s._v(" (y > "),t("span",{staticClass:"hljs-number"},[s._v("0")]),s._v(") {")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"21"}}),s._v("    "),t("span",{staticClass:"hljs-keyword"},[s._v("return")]),s._v(" sum(x + "),t("span",{staticClass:"hljs-number"},[s._v("1")]),s._v(", y - "),t("span",{staticClass:"hljs-number"},[s._v("1")]),s._v(")")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"22"}}),s._v("  }")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"23"}}),s._v("  "),t("span",{staticClass:"hljs-keyword"},[s._v("else")]),s._v(" {")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"24"}}),s._v("    "),t("span",{staticClass:"hljs-keyword"},[s._v("return")]),s._v(" x")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"25"}}),s._v("  }")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"26"}}),s._v("});")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"27"}})]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"28"}}),s._v("sum("),t("span",{staticClass:"hljs-number"},[s._v("1")]),s._v(", "),t("span",{staticClass:"hljs-number"},[s._v("100000")]),s._v(")")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"29"}}),t("span",{staticClass:"hljs-comment"},[s._v("// 100001")])])]),t("b",{staticClass:"name"},[s._v("javascript")])])]),t("p",[s._v("这是实现尾递归优化的方法,详细请点击"),t("a",{attrs:{href:"/guide/BLOG/TailRecursion.md"}},[s._v("尾递归优化")])]),t("ul",[t("li",[s._v("定义变量"),t("code",[s._v("sum")]),s._v("时，将函数"),t("code",[s._v("function(x, y){...}")]),s._v("作为参数"),t("code",[s._v("f")]),s._v("传入"),t("code",[s._v("tco()")]),s._v("中，"),t("code",[s._v("tco")]),s._v("返回一个函数"),t("code",[s._v("accumulator")]),s._v("，此时就形成了一个闭包，包含函数"),t("code",[s._v("accumulator")]),s._v("以及变量"),t("code",[s._v("value")]),s._v("，"),t("code",[s._v("active")]),s._v("，"),t("code",[s._v("accumulated")]),s._v("，"),t("code",[s._v("f")]),s._v("的引用。")]),t("li",[s._v("当调用"),t("code",[s._v("sum(1, 100000)")]),s._v("时，相当于调用"),t("code",[s._v("accumulator(1, 100000)")]),s._v(",将传入的参数"),t("code",[s._v("push")]),s._v("进"),t("code",[s._v("accumulated")]),s._v("数组。")]),t("li",[s._v("此时进行"),t("code",[s._v("if")]),s._v("判断，由于"),t("code",[s._v("active === false")]),s._v("，所以"),t("code",[s._v("!active为true")]),s._v("，进入"),t("code",[s._v("while")]),s._v("循环。")]),t("li",[s._v("调用"),t("code",[s._v("f.apply(this, accumulated.shift())")]),s._v("即"),t("code",[s._v("f.apply(this,[1, 3])")]),s._v(",因为"),t("code",[s._v("y>0")]),s._v("，所以返回"),t("code",[s._v("sum(2, 99999)")]),s._v("。")]),t("li",[s._v("而上文说到，调用sum相当于调用accumulator，也就是"),t("code",[s._v("value = accumulator(2, 99999)")]),s._v("，此时进入"),t("code",[s._v("accumulator")]),s._v("函数，将参数"),t("code",[s._v("push")]),s._v("进"),t("code",[s._v("accumulated")]),s._v("，由于此时"),t("code",[s._v("active === true")]),s._v("，所以跳过"),t("code",[s._v("if")]),s._v("，将"),t("code",[s._v("active")]),s._v("赋值为"),t("code",[s._v("false")]),s._v("，返回"),t("code",[s._v("value")]),s._v("，由于"),t("code",[s._v("value")]),s._v("此时仍在等待函数"),t("code",[s._v("sum(2, 99999)")]),s._v("执行完毕，所以是未赋值的状态，因此返回"),t("code",[s._v("undefined")]),s._v("，所以"),t("code",[s._v("value")]),s._v("的最终值为"),t("code",[s._v("undefined")]),s._v("，此时一次"),t("code",[s._v("while")]),s._v("循环结束")]),t("li",[s._v("对比一次"),t("code",[s._v("while")]),s._v("循环前后，变化的只有闭包中的"),t("code",[s._v("accumulated")]),s._v("的值，如此循环下去，当"),t("code",[s._v("y<0")]),s._v("时，即可退出循环，返回结果。用循环代替了递归，防止函数栈溢出。")])]),t("h2",{attrs:{id:"总结"}},[t("a",{attrs:{href:"#总结"}}),s._v(" 总结 ")]),t("p",[s._v("闭包是个很有趣也很实用的方法，一开始是看到了ES6中尾递归优化的时候看不懂，后来发现是闭包没掌握好，补充了闭包知识后就理解了尾递归优化的逻辑，虽然后来发现尾递归优化好像没什么用，不过也算是知道一个巧妙的闭包用法，一开始不知道active变量巧妙在哪，理解了之后发现真是妙啊，真牛。")]),t("hr"),t("p",[s._v("参考：")]),t("ul",[t("li",[t("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Closures"}},[s._v("MDN")])]),t("li",[t("a",{attrs:{href:"http://caibaojian.com/es6/function.html"}},[s._v("ES6文档")])]),t("li",[t("a",{attrs:{href:"https://segmentfault.com/a/1190000004018047"}},[s._v("[翻译]-JS的递归与TCO尾调用优化")])])])])}],n={data:{title:"关于闭包",sidebar:["定义","示例","一个巧妙的用法","总结"]}},e=n,c=t("2877"),v=Object(c["a"])(e,l,i,!1,null,null,null);a["default"]=v.exports},ac3b:function(s,a,t){"use strict";t.r(a);var l=function(){var s=this,a=s.$createElement;s._self._c;return s._m(0)},i=[function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("div",{attrs:{id:"write"}},[t("h1",[s._v("关于最近面试的总结")]),t("p",[s._v("最近一周为了试试自己的水平，考察一下学习成果，就投了一些实习简历，想着用面试来看看自己是什么水平，同时为寒假实习做个准备。一周面试下来收获不少，也暴露出了很多问题，特地总结一下。")]),t("h2",{attrs:{id:"一些收获"}},[t("a",{attrs:{href:"#一些收获"}}),s._v(" 一些收获 ")]),t("ul",[t("li",[s._v("之前在网上看到有人说过面试前的那段时间知识进步很快，这次我的的确确体会到了，很多以前没有搞懂，想着先搁置一段时间的问题，在这一周刷面经的过程中解决了不少，对于各种知识的掌握都在面试的压力下加深了不少。")]),t("li",[s._v("一些代码光看面经也不行，还是要手动敲一下，把程序跑起来看到结果比较容易明白。")]),t("li",[s._v("第一次去面试的公司，面试官姐姐很好，问题问完之后还和我聊了不少，聊了一下她的经历，还对我以后的发展提了一些建议，感觉收获不少，一个是要多看源码，深入原理，明白功能是如何实现的，另一个是要多敲代码，还有关于考研和就业的选择，我最近也确实对这方面有些迷茫，不知道是要继续学习本专业，继续考研，还是在前端的路上走下去。现在的计划是在不影响专业课的情况下，先学习前端的知识，在这条路上走一走，如果有发展的机会，可能就这么一直走下去吧。这也是我这次找实习的一个关键原因。")]),t("li",[s._v("可能是我面试的都不是很大的公司的缘故，面试官都没有考算法相关的内容。不过算法的知识还是不能落下，如果要去大厂，算法还是很重要的。")])]),t("h2",{attrs:{id:"槽点"}},[t("a",{attrs:{href:"#槽点"}}),s._v(" 槽点 ")]),t("ul",[t("li",[s._v("虽然我也能理解，不过有好几家公司都是在得知我想找寒假短期实习之后，都直接拒绝了我hhh。大部分公司都要求实习3个月以上，可是大三在校生根本没有那么长时间啊！太难了。")])]),t("h2",{attrs:{id:"总结"}},[t("a",{attrs:{href:"#总结"}}),s._v(" 总结 ")]),t("ul",[t("li",[s._v("这周的面试收获了不少，虽然只有两家真正的到公司面试了，不过技术面都通过了，还算可以吧。接下来就要继续把自己的博客做好，算是自己做的第二个项目吧，再沉淀一段时间。")])])])}],n={data:{title:"关于最近面试的总结",sidebar:["一些收获","槽点","总结"]}},e=n,c=t("2877"),v=Object(c["a"])(e,l,i,!1,null,null,null);a["default"]=v.exports},b0be:function(s,a,t){"use strict";t.r(a);var l=function(){var s=this,a=s.$createElement;s._self._c;return s._m(0)},i=[function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("div",{attrs:{id:"write"}},[t("h1",[s._v("尾调用优化")]),t("h2",{attrs:{id:"原理"}},[t("a",{attrs:{href:"#原理"}}),s._v(" 原理 ")]),t("h3",[s._v("尾调用")]),t("ul",[t("li",[s._v("函数调用会在内存形成一个“调用记录”，又称“调用帧”(call frame)，在一个函数中调用另一个函数，会形成调用栈，如果是多层递归，则有可能造成调用栈溢出，产生意想不到的后果。")]),t("li",[s._v("而尾调用作为函数的最后一步操作，只要用内层函数的调用帧取代外层函数的调用帧即可不会增加调用栈的深度。"),t("pre",{staticClass:"hljs"},[t("code",[t("ol",[t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"1"}}),t("span",{staticClass:"hljs-function"},[t("span",{staticClass:"hljs-keyword"},[s._v("function")]),s._v(" "),t("span",{staticClass:"hljs-title"},[s._v("f")]),s._v("("),t("span",{staticClass:"hljs-params"}),s._v(") ")]),s._v("{")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"2"}}),t("span",{staticClass:"hljs-keyword"},[s._v("let")]),s._v(" m = "),t("span",{staticClass:"hljs-number"},[s._v("1")]),s._v(";")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"3"}}),t("span",{staticClass:"hljs-keyword"},[s._v("let")]),s._v(" n = "),t("span",{staticClass:"hljs-number"},[s._v("2")]),s._v(";")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"4"}}),t("span",{staticClass:"hljs-keyword"},[s._v("return")]),s._v(" g(m + n);")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"5"}}),s._v("}")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"6"}}),s._v("f();")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"7"}})]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"8"}}),t("span",{staticClass:"hljs-comment"},[s._v("// 等同于")])]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"9"}}),t("span",{staticClass:"hljs-function"},[t("span",{staticClass:"hljs-keyword"},[s._v("function")]),s._v(" "),t("span",{staticClass:"hljs-title"},[s._v("f")]),s._v("("),t("span",{staticClass:"hljs-params"}),s._v(") ")]),s._v("{")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"10"}}),s._v("  "),t("span",{staticClass:"hljs-keyword"},[s._v("return")]),s._v(" g("),t("span",{staticClass:"hljs-number"},[s._v("3")]),s._v(");")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"11"}}),s._v("}")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"12"}}),s._v("f();")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"13"}})]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"14"}}),t("span",{staticClass:"hljs-comment"},[s._v("// 等同于")])]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"15"}}),s._v("g("),t("span",{staticClass:"hljs-number"},[s._v("3")]),s._v(");")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"16"}})])]),t("b",{staticClass:"name"},[s._v("javascript")])])])]),t("li",[s._v("注意，只有不再用到外层函数的内部变量，内层函数的调用帧才会取代外层函数的调用帧，否则就无法进行“尾调用优化”。")])]),t("h3",[s._v("尾递归")]),t("ul",[t("li",[s._v("递归函数尾调用自身，称为尾递归，可以大大节约内存。"),t("pre",{staticClass:"hljs"},[t("code",[t("ol",[t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"1"}}),t("span",{staticClass:"hljs-comment"},[s._v("//斐波那契数列")])]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"2"}}),t("span",{staticClass:"hljs-function"},[t("span",{staticClass:"hljs-keyword"},[s._v("function")]),s._v(" "),t("span",{staticClass:"hljs-title"},[s._v("fib")]),s._v(" ("),t("span",{staticClass:"hljs-params"},[s._v("n")]),s._v(") ")]),s._v("{")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"3"}}),s._v("  "),t("span",{staticClass:"hljs-function"},[t("span",{staticClass:"hljs-title"},[s._v("if")]),s._v("("),t("span",{staticClass:"hljs-params"},[s._v("n === "),t("span",{staticClass:"hljs-number"},[s._v("1")]),s._v("||n === "),t("span",{staticClass:"hljs-number"},[s._v("2")])]),s._v(")")]),s._v("{")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"4"}}),s._v("    "),t("span",{staticClass:"hljs-keyword"},[s._v("return")]),s._v(" "),t("span",{staticClass:"hljs-number"},[s._v("1")]),s._v(";")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"5"}}),s._v("  }")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"6"}}),s._v("  "),t("span",{staticClass:"hljs-keyword"},[s._v("return")]),s._v(" fab(n-"),t("span",{staticClass:"hljs-number"},[s._v("1")]),s._v(")+f(n-"),t("span",{staticClass:"hljs-number"},[s._v("2")]),s._v(")")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"7"}}),s._v("}")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"8"}}),s._v("fib("),t("span",{staticClass:"hljs-number"},[s._v("1000")]),s._v(");"),t("span",{staticClass:"hljs-comment"},[s._v("//溢出")])]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"9"}})]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"10"}}),t("span",{staticClass:"hljs-comment"},[s._v("//改写成尾递归形式")])]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"11"}}),t("span",{staticClass:"hljs-function"},[t("span",{staticClass:"hljs-keyword"},[s._v("function")]),s._v(" "),t("span",{staticClass:"hljs-title"},[s._v("reFib")]),s._v("("),t("span",{staticClass:"hljs-params"},[s._v("n, fib1 = "),t("span",{staticClass:"hljs-number"},[s._v("1")]),s._v(", fib2 = "),t("span",{staticClass:"hljs-number"},[s._v("1")])]),s._v(") ")]),s._v("{")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"12"}}),s._v("  "),t("span",{staticClass:"hljs-function"},[t("span",{staticClass:"hljs-title"},[s._v("if")]),s._v("("),t("span",{staticClass:"hljs-params"},[s._v("n <= "),t("span",{staticClass:"hljs-number"},[s._v("1")])]),s._v(")")]),s._v("{")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"13"}}),s._v("    "),t("span",{staticClass:"hljs-keyword"},[s._v("return")]),s._v(" fib2;")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"14"}}),s._v("  }")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"15"}}),s._v("  "),t("span",{staticClass:"hljs-keyword"},[s._v("return")]),s._v(" reFib(n - "),t("span",{staticClass:"hljs-number"},[s._v("1")]),s._v(", fib2, fib1 + fib2)")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"16"}}),s._v("}")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"17"}}),s._v("reFib("),t("span",{staticClass:"hljs-number"},[s._v("1000")]),s._v(");"),t("span",{staticClass:"hljs-comment"},[s._v("//7.0330367711422765e+208")])])]),t("b",{staticClass:"name"},[s._v("javascript")])])])])]),t("h2",{attrs:{id:"尾递归优化实现"}},[t("a",{attrs:{href:"#尾递归优化实现"}}),s._v(" 尾递归优化实现 ")]),t("p",[s._v("由于尾递归优化只在严格模式下自动实现，在正常模式下就要用其他方法实现。")]),t("ul",[t("li",[s._v("一个递归函数："),t("pre",{staticClass:"hljs"},[t("code",[t("ol",[t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"1"}}),t("span",{staticClass:"hljs-function"},[t("span",{staticClass:"hljs-keyword"},[s._v("function")]),s._v(" "),t("span",{staticClass:"hljs-title"},[s._v("sum")]),s._v("("),t("span",{staticClass:"hljs-params"},[s._v("x, y")]),s._v(") ")]),s._v("{")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"2"}}),s._v("  "),t("span",{staticClass:"hljs-keyword"},[s._v("if")]),s._v(" (y > "),t("span",{staticClass:"hljs-number"},[s._v("0")]),s._v(") {")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"3"}}),s._v("    "),t("span",{staticClass:"hljs-keyword"},[s._v("return")]),s._v(" sum(x + "),t("span",{staticClass:"hljs-number"},[s._v("1")]),s._v(", y - "),t("span",{staticClass:"hljs-number"},[s._v("1")]),s._v(");")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"4"}}),s._v("  } "),t("span",{staticClass:"hljs-keyword"},[s._v("else")]),s._v(" {")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"5"}}),s._v("    "),t("span",{staticClass:"hljs-keyword"},[s._v("return")]),s._v(" x;")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"6"}}),s._v("  }")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"7"}}),s._v("}")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"8"}}),s._v("sum("),t("span",{staticClass:"hljs-number"},[s._v("1")]),s._v(", "),t("span",{staticClass:"hljs-number"},[s._v("100000")]),s._v(")")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"9"}}),t("span",{staticClass:"hljs-comment"},[s._v("// Uncaught RangeError: Maximum call stack size exceeded(…)")])])]),t("b",{staticClass:"name"},[s._v("javascript")])])])])]),t("h3",[s._v("蹦床函数(trampoline)")]),t("ul",[t("li",[s._v("蹦床函数将递归转换成循环，每次调用返回一个新的函数"),t("pre",{staticClass:"hljs"},[t("code",[t("ol",[t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"1"}}),t("span",{staticClass:"hljs-function"},[t("span",{staticClass:"hljs-keyword"},[s._v("function")]),s._v(" "),t("span",{staticClass:"hljs-title"},[s._v("trampoline")]),s._v("("),t("span",{staticClass:"hljs-params"},[s._v("f")]),s._v(") ")]),s._v("{")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"2"}}),s._v("  "),t("span",{staticClass:"hljs-keyword"},[s._v("while")]),s._v(" (f && f "),t("span",{staticClass:"hljs-keyword"},[s._v("instanceof")]),s._v(" "),t("span",{staticClass:"hljs-built_in"},[s._v("Function")]),s._v(") {")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"3"}}),s._v("    f = f();")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"4"}}),s._v("  }")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"5"}}),s._v("  "),t("span",{staticClass:"hljs-keyword"},[s._v("return")]),s._v(" f;")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"6"}}),s._v("}")])]),t("b",{staticClass:"name"},[s._v("javascript")])])])]),t("li",[s._v("而函数f要返回一个新的函数，使用"),t("code",[s._v("bind()")]),s._v("实现:"),t("pre",{staticClass:"hljs"},[t("code",[t("ol",[t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"1"}}),t("span",{staticClass:"hljs-function"},[t("span",{staticClass:"hljs-keyword"},[s._v("function")]),s._v(" "),t("span",{staticClass:"hljs-title"},[s._v("sum")]),s._v("("),t("span",{staticClass:"hljs-params"},[s._v("x, y")]),s._v(") ")]),s._v("{")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"2"}}),s._v("  "),t("span",{staticClass:"hljs-keyword"},[s._v("if")]),s._v(" (y > "),t("span",{staticClass:"hljs-number"},[s._v("0")]),s._v(") {")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"3"}}),s._v("    "),t("span",{staticClass:"hljs-keyword"},[s._v("return")]),s._v(" sum.bind("),t("span",{staticClass:"hljs-literal"},[s._v("null")]),s._v(", x + "),t("span",{staticClass:"hljs-number"},[s._v("1")]),s._v(", y - "),t("span",{staticClass:"hljs-number"},[s._v("1")]),s._v(");")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"4"}}),s._v("  } "),t("span",{staticClass:"hljs-keyword"},[s._v("else")]),s._v(" {")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"5"}}),s._v("    "),t("span",{staticClass:"hljs-keyword"},[s._v("return")]),s._v(" x;")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"6"}}),s._v("  }")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"7"}}),s._v("}")])]),t("b",{staticClass:"name"},[s._v("javascript")])])])]),t("li",[s._v("这样就不会产生溢出，每次循环都会返回一个新的函数，将递归转化成循环。但返回时并不是调用自身，并不算真正的尾递归。")])]),t("h3",[s._v("尾递归优化")]),t("ul",[t("li",[s._v("这是一个很巧妙的实现，代码如下："),t("pre",{staticClass:"hljs"},[t("code",[t("ol",[t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"1"}}),t("span",{staticClass:"hljs-function"},[t("span",{staticClass:"hljs-keyword"},[s._v("function")]),s._v(" "),t("span",{staticClass:"hljs-title"},[s._v("tco")]),s._v("("),t("span",{staticClass:"hljs-params"},[s._v("f")]),s._v(") ")]),s._v("{")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"2"}}),s._v("  "),t("span",{staticClass:"hljs-keyword"},[s._v("var")]),s._v(" value;")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"3"}}),s._v("  "),t("span",{staticClass:"hljs-keyword"},[s._v("var")]),s._v(" active = "),t("span",{staticClass:"hljs-literal"},[s._v("false")]),s._v(";")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"4"}}),s._v("  "),t("span",{staticClass:"hljs-keyword"},[s._v("var")]),s._v(" accumulated = [];")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"5"}})]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"6"}}),s._v("  "),t("span",{staticClass:"hljs-keyword"},[s._v("return")]),s._v(" "),t("span",{staticClass:"hljs-function"},[t("span",{staticClass:"hljs-keyword"},[s._v("function")]),s._v(" "),t("span",{staticClass:"hljs-title"},[s._v("accumulator")]),s._v("("),t("span",{staticClass:"hljs-params"}),s._v(") ")]),s._v("{")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"7"}}),s._v("    accumulated.push("),t("span",{staticClass:"hljs-built_in"},[s._v("arguments")]),s._v(");")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"8"}}),s._v("    "),t("span",{staticClass:"hljs-keyword"},[s._v("if")]),s._v(" (!active) {")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"9"}}),s._v("      active = "),t("span",{staticClass:"hljs-literal"},[s._v("true")]),s._v(";")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"10"}}),s._v("      "),t("span",{staticClass:"hljs-keyword"},[s._v("while")]),s._v(" (accumulated.length) {")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"11"}}),s._v("        value = f.apply("),t("span",{staticClass:"hljs-built_in"},[s._v("this")]),s._v(", accumulated.shift());")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"12"}}),s._v("      }")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"13"}}),s._v("      active = "),t("span",{staticClass:"hljs-literal"},[s._v("false")]),s._v(";")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"14"}}),s._v("      "),t("span",{staticClass:"hljs-keyword"},[s._v("return")]),s._v(" value;")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"15"}}),s._v("    }")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"16"}}),s._v("  };")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"17"}}),s._v("}")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"18"}})]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"19"}}),t("span",{staticClass:"hljs-keyword"},[s._v("var")]),s._v(" sum = tco("),t("span",{staticClass:"hljs-function"},[t("span",{staticClass:"hljs-keyword"},[s._v("function")]),s._v("("),t("span",{staticClass:"hljs-params"},[s._v("x, y")]),s._v(") ")]),s._v("{")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"20"}}),s._v("  "),t("span",{staticClass:"hljs-keyword"},[s._v("if")]),s._v(" (y > "),t("span",{staticClass:"hljs-number"},[s._v("0")]),s._v(") {")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"21"}}),s._v("    "),t("span",{staticClass:"hljs-keyword"},[s._v("return")]),s._v(" sum(x + "),t("span",{staticClass:"hljs-number"},[s._v("1")]),s._v(", y - "),t("span",{staticClass:"hljs-number"},[s._v("1")]),s._v(")")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"22"}}),s._v("  }")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"23"}}),s._v("  "),t("span",{staticClass:"hljs-keyword"},[s._v("else")]),s._v(" {")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"24"}}),s._v("    "),t("span",{staticClass:"hljs-keyword"},[s._v("return")]),s._v(" x")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"25"}}),s._v("  }")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"26"}}),s._v("});")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"27"}})]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"28"}}),s._v("sum("),t("span",{staticClass:"hljs-number"},[s._v("1")]),s._v(", "),t("span",{staticClass:"hljs-number"},[s._v("100000")]),s._v(")")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"29"}}),t("span",{staticClass:"hljs-comment"},[s._v("// 100001")])])]),t("b",{staticClass:"name"},[s._v("javascript")])])])]),t("li",[s._v("实现原理： "),t("ul",[t("li",[s._v("定义变量"),t("code",[s._v("sum")]),s._v("时，将函数"),t("code",[s._v("function(x, y){...}")]),s._v("作为参数"),t("code",[s._v("f")]),s._v("传入"),t("code",[s._v("tco()")]),s._v("中，"),t("code",[s._v("tco")]),s._v("返回一个函数"),t("code",[s._v("accumulator")]),s._v("，此时就形成了一个闭包，包含函数"),t("code",[s._v("accumulator")]),s._v("以及变量"),t("code",[s._v("value")]),s._v("，"),t("code",[s._v("active")]),s._v("，"),t("code",[s._v("accumulated")]),s._v("，"),t("code",[s._v("f")]),s._v("的引用。")]),t("li",[s._v("当调用"),t("code",[s._v("sum(1, 100000)")]),s._v("时，相当于调用"),t("code",[s._v("accumulator(1, 100000)")]),s._v(",将传入的参数"),t("code",[s._v("push")]),s._v("进"),t("code",[s._v("accumulated")]),s._v("数组。")]),t("li",[s._v("此时进行"),t("code",[s._v("if")]),s._v("判断，由于"),t("code",[s._v("active === false")]),s._v("，所以"),t("code",[s._v("!active为true")]),s._v("，进入"),t("code",[s._v("while")]),s._v("循环。")]),t("li",[s._v("调用"),t("code",[s._v("f.apply(this, accumulated.shift())")]),s._v("即"),t("code",[s._v("f.apply(this,[1, 3])")]),s._v(",因为"),t("code",[s._v("y>0")]),s._v("，所以返回"),t("code",[s._v("sum(2, 99999)")]),s._v("。")]),t("li",[s._v("而上文说到，调用sum相当于调用accumulator，也就是"),t("code",[s._v("value = accumulator(2, 99999)")]),s._v("，此时进入"),t("code",[s._v("accumulator")]),s._v("函数，将参数"),t("code",[s._v("push")]),s._v("进"),t("code",[s._v("accumulated")]),s._v("，由于此时"),t("code",[s._v("active === true")]),s._v("，所以跳过"),t("code",[s._v("if")]),s._v("，将"),t("code",[s._v("active")]),s._v("赋值为"),t("code",[s._v("false")]),s._v("，返回"),t("code",[s._v("value")]),s._v("，由于"),t("code",[s._v("value")]),s._v("此时仍在等待函数"),t("code",[s._v("sum(2, 99999)")]),s._v("执行完毕，所以是未赋值的状态，因此返回"),t("code",[s._v("undefined")]),s._v("，所以"),t("code",[s._v("value")]),s._v("的最终值为"),t("code",[s._v("undefined")]),s._v("，此时一次"),t("code",[s._v("while")]),s._v("循环结束")]),t("li",[s._v("对比一次"),t("code",[s._v("while")]),s._v("循环前后，变化的只有闭包中的"),t("code",[s._v("accumulated")]),s._v("的值，如此循环下去，当"),t("code",[s._v("y<0")]),s._v("时，即可退出循环，返回结果。用循环代替了递归，防止函数栈溢出。")])])]),t("li",[s._v("整体就是把每一次递归发生改变的参数提取出来，循环调用。")])]),t("h2",{attrs:{id:"总结"}},[t("a",{attrs:{href:"#总结"}}),s._v(" 总结 ")]),t("ul",[t("li",[s._v("虽然自己实现尾递归优化好像没什么实际作用，不过通过对其的理解，也算是加深理解了闭包，还学到了一种巧妙的提取参数的方式。")])]),t("hr"),t("p",[s._v("参考：")]),t("ul",[t("li",[t("a",{attrs:{href:"http://caibaojian.com/es6/function.html"}},[s._v("ES6文档")])]),t("li",[t("a",{attrs:{href:"https://segmentfault.com/a/1190000004018047"}},[s._v("[翻译]-JS的递归与TCO尾调用优化")])])])])}],n={data:{title:"尾调用优化",sidebar:["原理","尾递归优化实现","总结"]}},e=n,c=t("2877"),v=Object(c["a"])(e,l,i,!1,null,null,null);a["default"]=v.exports},b8c0:function(s,a,t){"use strict";t.r(a);var l=function(){var s=this,a=s.$createElement;s._self._c;return s._m(0)},i=[function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("div",{attrs:{id:"write"}},[t("h1",[s._v("AutoSideBar3")]),t("h2",{attrs:{id:"改进"}},[t("a",{attrs:{href:"#改进"}}),s._v(" 改进 ")]),t("ul",[t("li",[s._v("现在可以按照创建时间排序")])]),t("h2",{attrs:{id:"实现"}},[t("a",{attrs:{href:"#实现"}}),s._v(" 实现 ")]),t("ul",[t("li",[s._v("思路很简单，通过"),t("code",[s._v("fs.statSync().mtimeMs")]),s._v("读取文件创建时间，由于返回的时间是一个数字，因此可以很方便的进行排序。")])]),t("hr"),t("ul",[t("li",[s._v("主要代码：")])]),t("pre",{staticClass:"hljs"},[t("code",[t("ol",[t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"1"}}),s._v("fs.readdirSync(t_path).forEach("),t("span",{staticClass:"hljs-function"},[s._v("("),t("span",{staticClass:"hljs-params"},[s._v("file")]),s._v(") =>")]),s._v(" { ")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"2"}}),s._v("    "),t("span",{staticClass:"hljs-function"},[t("span",{staticClass:"hljs-title"},[s._v("if")]),s._v("("),t("span",{staticClass:"hljs-params"},[s._v("file !== "),t("span",{staticClass:"hljs-string"},[s._v("'README.md'")])]),s._v(")")]),s._v("{")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"3"}}),s._v("      childMap.push({")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"4"}}),s._v("        "),t("span",{staticClass:"hljs-attr"},[s._v("child")]),s._v(": file.replace(re,"),t("span",{staticClass:"hljs-string"},[s._v('""')]),s._v("),")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"5"}}),s._v("        "),t("span",{staticClass:"hljs-attr"},[s._v("time")]),s._v(": fs.statSync(t_path+file).mtimeMs")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"6"}}),s._v("      })")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"7"}}),s._v("    }")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"8"}}),s._v("  })")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"9"}}),s._v("  childMap.sort("),t("span",{staticClass:"hljs-function"},[s._v("("),t("span",{staticClass:"hljs-params"},[s._v("a, b")]),s._v(") =>")]),s._v(" {")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"10"}}),s._v("    "),t("span",{staticClass:"hljs-keyword"},[s._v("return")]),s._v(" "),t("span",{staticClass:"hljs-built_in"},[s._v("parseInt")]),s._v("(b.time) -"),t("span",{staticClass:"hljs-built_in"},[s._v("parseInt")]),s._v("(a.time)")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"11"}}),s._v("  })")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"12"}}),s._v("  childMap.forEach("),t("span",{staticClass:"hljs-function"},[s._v("("),t("span",{staticClass:"hljs-params"},[s._v("item")]),s._v(") =>")]),s._v(" {")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"13"}}),s._v("    children.push(item.child)")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"14"}}),s._v("  })")])]),t("b",{staticClass:"name"},[s._v("javascript")])])])])}],n={data:{title:"AutoSideBar3",sidebar:["改进","实现"]}},e=n,c=t("2877"),v=Object(c["a"])(e,l,i,!1,null,null,null);a["default"]=v.exports},d6af:function(s,a,t){"use strict";t.r(a);var l=function(){var s=this,a=s.$createElement;s._self._c;return s._m(0)},i=[function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("div",{attrs:{id:"write"}},[t("h1",[s._v("自动修改侧边栏的工具AutoSideBar()")]),t("hr"),t("h2",{attrs:{id:"想法"}},[t("a",{attrs:{href:"#想法"}}),s._v(" 想法 ")]),t("p",[s._v("每次写博客还要手动配置config太麻烦了,虽然官方文档好像提供了自动配置的方法，不过还是想自己造个轮子试一试，顺便学习一下，虽然造的很烂就是了。")]),t("h2",{attrs:{id:"思路"}},[t("a",{attrs:{href:"#思路"}}),s._v(" 思路 ")]),t("p",[s._v("读取"),t("code",[s._v("/guide/")]),s._v("文件夹下的文件，文件夹名作为"),t("code",[s._v("title")]),s._v("属性,文件名去掉后缀后作为文章题目。因为Node.js还不是很熟悉，百度了一下"),t("code",[s._v("fs.readdirSync()")]),s._v("和"),t("code",[s._v("fs.lstatSync()")]),s._v("的用法，制作了一个勉强能用的版本。")]),t("h2",{attrs:{id:"代码"}},[t("a",{attrs:{href:"#代码"}}),s._v(" 代码 ")]),t("pre",{staticClass:"hljs"},[t("code",[t("ol",[t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"1"}}),t("span",{staticClass:"hljs-keyword"},[s._v("const")]),s._v(" fs = "),t("span",{staticClass:"hljs-built_in"},[s._v("require")]),s._v("("),t("span",{staticClass:"hljs-string"},[s._v("'fs'")]),s._v(");"),t("span",{staticClass:"hljs-comment"},[s._v("//")])]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"2"}}),t("span",{staticClass:"hljs-keyword"},[s._v("let")]),s._v(" path = "),t("span",{staticClass:"hljs-built_in"},[s._v("require")]),s._v("("),t("span",{staticClass:"hljs-string"},[s._v("'path'")]),s._v(");")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"3"}})]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"4"}}),t("span",{staticClass:"hljs-keyword"},[s._v("let")]),s._v(" PUBLIC_PATH = "),t("span",{staticClass:"hljs-string"},[s._v("'D:/webPractice/vuepressblog/docs/guide/'")])]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"5"}})]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"6"}}),t("span",{staticClass:"hljs-function"},[t("span",{staticClass:"hljs-keyword"},[s._v("function")]),s._v(" "),t("span",{staticClass:"hljs-title"},[s._v("autoSidebar")]),s._v(" ("),t("span",{staticClass:"hljs-params"}),s._v(") ")]),s._v("{")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"7"}}),s._v("  "),t("span",{staticClass:"hljs-keyword"},[s._v("var")]),s._v(" strRegex = "),t("span",{staticClass:"hljs-string"},[s._v('"(.md)$"')]),s._v("; ")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"8"}}),s._v("  "),t("span",{staticClass:"hljs-keyword"},[s._v("var")]),s._v(" re= "),t("span",{staticClass:"hljs-keyword"},[s._v("new")]),s._v(" "),t("span",{staticClass:"hljs-built_in"},[s._v("RegExp")]),s._v("(strRegex);")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"9"}}),s._v("  "),t("span",{staticClass:"hljs-keyword"},[s._v("let")]),s._v(" sideBar = [];")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"10"}})]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"11"}}),s._v("  fs.readdirSync(PUBLIC_PATH).forEach("),t("span",{staticClass:"hljs-function"},[t("span",{staticClass:"hljs-params"},[s._v("file")]),s._v(" =>")]),s._v(" { ")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"12"}}),s._v("    "),t("span",{staticClass:"hljs-keyword"},[s._v("let")]),s._v(" title = file;")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"13"}}),s._v("    "),t("span",{staticClass:"hljs-keyword"},[s._v("let")]),s._v(" children = [];")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"14"}}),s._v("    "),t("span",{staticClass:"hljs-keyword"},[s._v("let")]),s._v(" obj = {};")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"15"}}),s._v("    "),t("span",{staticClass:"hljs-keyword"},[s._v("let")]),s._v(" path = PUBLIC_PATH+file;")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"16"}}),s._v("    "),t("span",{staticClass:"hljs-keyword"},[s._v("let")]),s._v(" childPath = "),t("span",{staticClass:"hljs-string"},[s._v('"./guide/"')]),s._v("+file;")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"17"}}),s._v("    ")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"18"}}),s._v("    "),t("span",{staticClass:"hljs-keyword"},[s._v("if")]),s._v("(fs.lstatSync(path).isDirectory()){")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"19"}}),s._v("      title = file.toLocaleUpperCase();")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"20"}}),s._v("      ")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"21"}}),s._v("      fs.readdirSync(path).forEach("),t("span",{staticClass:"hljs-function"},[t("span",{staticClass:"hljs-params"},[s._v("file")]),s._v(" =>")]),s._v(" {")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"22"}}),s._v("        "),t("span",{staticClass:"hljs-keyword"},[s._v("let")]),s._v(" child = [];")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"23"}}),s._v("        "),t("span",{staticClass:"hljs-keyword"},[s._v("let")]),s._v(" newPath = childPath+"),t("span",{staticClass:"hljs-string"},[s._v('"/"')]),s._v("+file;")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"24"}}),s._v("        ")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"25"}}),s._v("        child.push(newPath, file.replace(re,"),t("span",{staticClass:"hljs-string"},[s._v('""')]),s._v(").toLocaleUpperCase());")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"26"}}),s._v("        "),t("span",{staticClass:"hljs-built_in"},[s._v("console")]),s._v(".log(child);")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"27"}}),s._v("        children.push(child);")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"28"}}),s._v("      })")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"29"}})]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"30"}}),s._v("      obj.title = title;")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"31"}}),s._v("      obj.children = children;")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"32"}}),s._v("      sideBar.push(obj);")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"33"}}),s._v("    }")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"34"}}),s._v("    ")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"35"}}),s._v("    ")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"36"}}),s._v("  })")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"37"}}),s._v("  "),t("span",{staticClass:"hljs-keyword"},[s._v("return")]),s._v(" sideBar;")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"38"}}),s._v("}")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"39"}}),t("span",{staticClass:"hljs-built_in"},[s._v("module")]),s._v(".exports = autoSidebar;")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"40"}})])]),t("b",{staticClass:"name"},[s._v("javascript")])])]),t("h2",{attrs:{id:"踩到的坑和笔记"}},[t("a",{attrs:{href:"#踩到的坑和笔记"}}),s._v(" 踩到的坑和笔记 ")]),t("ul",[t("li",[s._v("最坑爹的地方:"),t("br"),s._v(" fs模块读取文件的"),t("strong",[s._v("相对路径")]),s._v("是以"),t("strong",[s._v("启动服务程序时的位置")]),s._v('为基准进行读取的，一开始在写的时候老是报错找不到路径"…/guide",明白之后直接用绝对路径'),t("code",[s._v("D:/webPractice/vuepressblog/docs/guide/")]),s._v("，问题解决。"),t("a",{attrs:{href:"https://blog.csdn.net/k358971707/article/details/78775141"}},[s._v("参考")])]),t("li",[t("code",[s._v("fs.readdirSync()")]),s._v("用法 传入一个相对路径或者绝对路径，返回一个数组，包含该路径下所有文件的文件名"),t("a",{attrs:{href:"https://www.cnblogs.com/xiongwei2017/p/6624982.html"}},[s._v("参考")])]),t("li",[t("code",[s._v("fs.lstatSync(path).isDirectory()")]),s._v(" 判断是否是文件夹，"),t("code",[s._v("fs.lstatSync()")]),s._v("返回一个stat数组对象,存放文件相关信息下"),t("a",{attrs:{href:"https://www.jianshu.com/p/5b52751873fd"}},[s._v("参考")])])]),t("h2",{attrs:{id:"总结"}},[t("a",{attrs:{href:"#总结"}}),s._v(" 总结 ")]),t("ul",[t("li",[s._v("相对路径问题解决了好久，终于在@皮蛋萌大佬的帮助下解决了问题,吃一堑长一智，以后会记得路径问题了。")]),t("li",[s._v("代码还有很多需要改进之处，后续还会更新"),t("s",[s._v("大概")])])])])}],n={data:{title:"自动修改侧边栏的工具AutoSideBar()",sidebar:["想法","思路","代码","踩到的坑和笔记","总结"]}},e=n,c=t("2877"),v=Object(c["a"])(e,l,i,!1,null,null,null);a["default"]=v.exports},e56a:function(s,a,t){"use strict";t.r(a);var l=function(){var s=this,a=s.$createElement;s._self._c;return s._m(0)},i=[function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("div",{attrs:{id:"write"}},[t("h3",[s._v("学习记录")]),t("p",[s._v("~此处记录一些学习笔记和思考~")])])}],n={data:{title:"",sidebar:[]}},e=n,c=t("2877"),v=Object(c["a"])(e,l,i,!1,null,null,null);a["default"]=v.exports},e687:function(s,a,t){"use strict";t.r(a);var l=function(){var s=this,a=s.$createElement;s._self._c;return s._m(0)},i=[function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("div",{attrs:{id:"write"}},[t("h1",[s._v("写一个Promise(一)")]),t("h2",{attrs:{id:"前言"}},[t("a",{attrs:{href:"#前言"}}),s._v(" 前言 ")]),t("ul",[t("li",[s._v("为了更好的了解"),t("code",[s._v("Promise")]),s._v("实现机制，参考了一些文章，试着自己写了一个简单的实现。")]),t("li",[s._v("实现了简单的功能: "),t("ol",[t("li",[s._v("异步调用"),t("code",[s._v("then()")])]),t("li",[s._v("可以链式调用")]),t("li",[s._v("如果"),t("code",[s._v("then")]),s._v("参数为空时的解决")])])]),t("li",[s._v("和参考的文章不同的是，用了"),t("code",[s._v("process.nextTick()")]),s._v("来模拟异步调用，因为浏览器没有此方法，所以在"),t("code",[s._v("node")]),s._v("环境下的进行测试，实现了"),t("code",[s._v("Promise")]),s._v("在事件循环中作为微任务的特点。")])]),t("h2",{attrs:{id:"代码"}},[t("a",{attrs:{href:"#代码"}}),s._v(" 代码 ")]),t("pre",{staticClass:"hljs"},[t("code",[t("ol",[t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"1"}}),t("span",{staticClass:"hljs-keyword"},[s._v("const")]),s._v(" PENDING = "),t("span",{staticClass:"hljs-string"},[s._v("'PENDING'")])]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"2"}}),t("span",{staticClass:"hljs-keyword"},[s._v("const")]),s._v(" FULFILLED = "),t("span",{staticClass:"hljs-string"},[s._v("'FULFILLED'")])]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"3"}}),t("span",{staticClass:"hljs-keyword"},[s._v("const")]),s._v(" REJECTED = "),t("span",{staticClass:"hljs-string"},[s._v("'REJECTED'")])]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"4"}})]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"5"}}),t("span",{staticClass:"hljs-class"},[t("span",{staticClass:"hljs-keyword"},[s._v("class")]),s._v(" "),t("span",{staticClass:"hljs-title"},[s._v("myPromise")]),s._v(" ")]),s._v("{")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"6"}}),s._v("  "),t("span",{staticClass:"hljs-function"},[t("span",{staticClass:"hljs-title"},[s._v("constructor")]),s._v("("),t("span",{staticClass:"hljs-params"},[s._v("executor")]),s._v(")")]),s._v("{")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"7"}}),s._v("    "),t("span",{staticClass:"hljs-keyword"},[s._v("var")]),s._v(" self = "),t("span",{staticClass:"hljs-built_in"},[s._v("this")])]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"8"}}),s._v("    "),t("span",{staticClass:"hljs-built_in"},[s._v("this")]),s._v(".status = PENDING")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"9"}}),s._v("    "),t("span",{staticClass:"hljs-built_in"},[s._v("this")]),s._v(".value = "),t("span",{staticClass:"hljs-literal"},[s._v("undefined")])]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"10"}}),s._v("    "),t("span",{staticClass:"hljs-built_in"},[s._v("this")]),s._v(".reason = "),t("span",{staticClass:"hljs-literal"},[s._v("undefined")])]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"11"}}),s._v("    "),t("span",{staticClass:"hljs-built_in"},[s._v("this")]),s._v(".fulfilledList = []")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"12"}}),s._v("    "),t("span",{staticClass:"hljs-built_in"},[s._v("this")]),s._v(".rejectedList = []")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"13"}}),s._v("    "),t("span",{staticClass:"hljs-keyword"},[s._v("let")]),s._v(" resolve = "),t("span",{staticClass:"hljs-function"},[t("span",{staticClass:"hljs-keyword"},[s._v("function")]),s._v("("),t("span",{staticClass:"hljs-params"},[s._v("value")]),s._v(")")]),s._v("{")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"14"}}),s._v("      "),t("span",{staticClass:"hljs-function"},[t("span",{staticClass:"hljs-title"},[s._v("if")]),s._v("("),t("span",{staticClass:"hljs-params"},[s._v("self.status === PENDING")]),s._v(")")]),s._v("{")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"15"}}),s._v("        self.status = FULFILLED")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"16"}}),s._v("        self.value = value")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"17"}}),s._v("        self.fulfilledList.forEach("),t("span",{staticClass:"hljs-function"},[t("span",{staticClass:"hljs-params"},[s._v("fn")]),s._v(" =>")]),s._v(" fn())")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"18"}}),s._v("      }")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"19"}}),s._v("    }")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"20"}})]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"21"}}),s._v("    "),t("span",{staticClass:"hljs-keyword"},[s._v("let")]),s._v(" reject = "),t("span",{staticClass:"hljs-function"},[t("span",{staticClass:"hljs-keyword"},[s._v("function")]),s._v("("),t("span",{staticClass:"hljs-params"},[s._v("reason")]),s._v(")")]),s._v("{")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"22"}}),s._v("      "),t("span",{staticClass:"hljs-function"},[t("span",{staticClass:"hljs-title"},[s._v("if")]),s._v("("),t("span",{staticClass:"hljs-params"},[s._v("self.status === PENDING")]),s._v(")")]),s._v("{")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"23"}}),s._v("        self.status = REJECTED")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"24"}}),s._v("        self.reason = reason")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"25"}}),s._v("        self.rejectedList.forEach("),t("span",{staticClass:"hljs-function"},[t("span",{staticClass:"hljs-params"},[s._v("fn")]),s._v(" =>")]),s._v(" fn())")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"26"}}),s._v("      }")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"27"}}),s._v("    }")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"28"}}),s._v("    "),t("span",{staticClass:"hljs-keyword"},[s._v("try")]),s._v(" {")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"29"}}),s._v("      executor(resolve, reject)")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"30"}}),s._v("    } "),t("span",{staticClass:"hljs-function"},[t("span",{staticClass:"hljs-title"},[s._v("catch")]),s._v("("),t("span",{staticClass:"hljs-params"},[s._v("error")]),s._v(")")]),s._v(" {")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"31"}}),s._v("      reject(error)")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"32"}}),s._v("    }")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"33"}}),s._v("  }")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"34"}})]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"35"}}),s._v("  "),t("span",{staticClass:"hljs-function"},[t("span",{staticClass:"hljs-title"},[s._v("then")]),s._v("("),t("span",{staticClass:"hljs-params"},[s._v("onFulfilled, onRejected")]),s._v(")")]),s._v("{")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"36"}}),s._v("    onFulfilled = "),t("span",{staticClass:"hljs-keyword"},[s._v("typeof")]),s._v(" onFulfilled === "),t("span",{staticClass:"hljs-string"},[s._v("'function'")]),s._v("?onFulfilled: "),t("span",{staticClass:"hljs-function"},[t("span",{staticClass:"hljs-params"},[s._v("data")]),s._v(" =>")]),s._v(" data")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"37"}}),s._v("    onRejected = "),t("span",{staticClass:"hljs-keyword"},[s._v("typeof")]),s._v(" onRejected === "),t("span",{staticClass:"hljs-string"},[s._v("'function'")]),s._v("? onRejected:"),t("span",{staticClass:"hljs-function"},[t("span",{staticClass:"hljs-params"},[s._v("err")]),s._v(" =>")]),s._v(" {"),t("span",{staticClass:"hljs-keyword"},[s._v("throw")]),s._v(" err}")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"38"}})]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"39"}}),s._v("    "),t("span",{staticClass:"hljs-keyword"},[s._v("let")]),s._v(" promise2 = "),t("span",{staticClass:"hljs-keyword"},[s._v("new")]),s._v(" myPromise("),t("span",{staticClass:"hljs-function"},[s._v("("),t("span",{staticClass:"hljs-params"},[s._v("resolve, reject")]),s._v(") =>")]),s._v(" {")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"40"}}),s._v("      "),t("span",{staticClass:"hljs-function"},[t("span",{staticClass:"hljs-title"},[s._v("if")]),s._v("("),t("span",{staticClass:"hljs-params"},[t("span",{staticClass:"hljs-built_in"},[s._v("this")]),s._v(".status === FULFILLED")]),s._v(")")]),s._v("{")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"41"}}),s._v("        process.nextTick("),t("span",{staticClass:"hljs-function"},[s._v("() =>")]),s._v(" {")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"42"}}),s._v("          "),t("span",{staticClass:"hljs-keyword"},[s._v("try")]),s._v(" {")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"43"}}),s._v("            "),t("span",{staticClass:"hljs-keyword"},[s._v("let")]),s._v(" x = onFulfilled("),t("span",{staticClass:"hljs-built_in"},[s._v("this")]),s._v(".value)")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"44"}}),s._v("            resolve(x)")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"45"}}),s._v("          } "),t("span",{staticClass:"hljs-function"},[t("span",{staticClass:"hljs-title"},[s._v("catch")]),s._v("("),t("span",{staticClass:"hljs-params"},[s._v("err")]),s._v(")")]),s._v(" {")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"46"}}),s._v("            reject(err)")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"47"}}),s._v("          }")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"48"}})]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"49"}}),s._v("        })")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"50"}}),s._v("      }"),t("span",{staticClass:"hljs-keyword"},[s._v("else")]),s._v(" "),t("span",{staticClass:"hljs-function"},[t("span",{staticClass:"hljs-title"},[s._v("if")]),s._v("("),t("span",{staticClass:"hljs-params"},[t("span",{staticClass:"hljs-built_in"},[s._v("this")]),s._v(".status === REJECTED")]),s._v(")")]),s._v("{")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"51"}}),s._v("        process.nextTick("),t("span",{staticClass:"hljs-function"},[s._v("() =>")]),s._v(" {")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"52"}}),s._v("          "),t("span",{staticClass:"hljs-keyword"},[s._v("try")]),s._v(" {")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"53"}}),s._v("            "),t("span",{staticClass:"hljs-keyword"},[s._v("let")]),s._v(" x = onRejected("),t("span",{staticClass:"hljs-built_in"},[s._v("this")]),s._v(".reason)")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"54"}}),s._v("            reject(x)")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"55"}}),s._v("          } "),t("span",{staticClass:"hljs-function"},[t("span",{staticClass:"hljs-title"},[s._v("catch")]),s._v("("),t("span",{staticClass:"hljs-params"},[s._v("err")]),s._v(")")]),s._v(" {")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"56"}}),s._v("            reject(err)")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"57"}}),s._v("          }")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"58"}}),s._v("        })")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"59"}}),s._v("      }")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"60"}}),s._v("      "),t("span",{staticClass:"hljs-function"},[t("span",{staticClass:"hljs-title"},[s._v("if")]),s._v("("),t("span",{staticClass:"hljs-params"},[t("span",{staticClass:"hljs-built_in"},[s._v("this")]),s._v(".status === PENDING")]),s._v(")")]),s._v("{")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"61"}}),s._v("        "),t("span",{staticClass:"hljs-built_in"},[s._v("this")]),s._v(".rejectedList.push("),t("span",{staticClass:"hljs-function"},[s._v("() =>")]),s._v("{")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"62"}}),s._v("          process.nextTick("),t("span",{staticClass:"hljs-function"},[s._v("() =>")]),s._v(" {")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"63"}}),s._v("            "),t("span",{staticClass:"hljs-keyword"},[s._v("try")]),s._v(" {")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"64"}}),s._v("              "),t("span",{staticClass:"hljs-keyword"},[s._v("let")]),s._v(" x = onRejected("),t("span",{staticClass:"hljs-built_in"},[s._v("this")]),s._v(".reason)")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"65"}}),s._v("              reject(x)")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"66"}}),s._v("            } "),t("span",{staticClass:"hljs-function"},[t("span",{staticClass:"hljs-title"},[s._v("catch")]),s._v("("),t("span",{staticClass:"hljs-params"},[s._v("err")]),s._v(")")]),s._v(" {")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"67"}}),s._v("              reject(x)")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"68"}}),s._v("            }")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"69"}})]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"70"}}),s._v("          })")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"71"}}),s._v("        })")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"72"}}),s._v("        "),t("span",{staticClass:"hljs-built_in"},[s._v("this")]),s._v(".fulfilledList.push("),t("span",{staticClass:"hljs-function"},[s._v("() =>")]),s._v("{")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"73"}}),s._v("          process.nextTick("),t("span",{staticClass:"hljs-function"},[s._v("() =>")]),s._v(" {")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"74"}}),s._v("            "),t("span",{staticClass:"hljs-keyword"},[s._v("try")]),s._v(" {")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"75"}}),s._v("              "),t("span",{staticClass:"hljs-keyword"},[s._v("let")]),s._v(" x = onFulfilled("),t("span",{staticClass:"hljs-built_in"},[s._v("this")]),s._v(".value)")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"76"}}),s._v("              resolve(x)")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"77"}}),s._v("            } "),t("span",{staticClass:"hljs-function"},[t("span",{staticClass:"hljs-title"},[s._v("catch")]),s._v("("),t("span",{staticClass:"hljs-params"},[s._v("err")]),s._v(")")]),s._v(" {")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"78"}}),s._v("              reject(err)")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"79"}}),s._v("            }")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"80"}}),s._v("          })")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"81"}}),s._v("        })")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"82"}}),s._v("      }")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"83"}}),s._v("      ")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"84"}}),s._v("    })")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"85"}}),s._v("    "),t("span",{staticClass:"hljs-keyword"},[s._v("return")]),s._v(" promise2")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"86"}}),s._v("  }")]),t("li",[t("span",{staticClass:"line-num",attrs:{"data-line":"87"}}),s._v("}")])]),t("b",{staticClass:"name"},[s._v("js")])])]),t("h2",{attrs:{id:"总结"}},[t("a",{attrs:{href:"#总结"}}),s._v(" 总结 ")]),t("ul",[t("li",[s._v("还有很多功能没有实现，"),t("code",[s._v("all()")]),s._v(", "),t("code",[s._v("race()")]),s._v("等等，还有一个较为复杂的，对then()的返回值是否是promise进行判断的功能，有机会再做吧。既然标题写了(一)，以后应该还会写吧😀")]),t("li",[s._v("下一周突然要考自控原理，打乱了我最近的计划，接下来的一周可能就没有时间更新了，要好好复习了。")])]),t("p",[s._v("参考:")]),t("ul",[t("li",[t("a",{attrs:{href:"https://juejin.cn/post/6844903796129136654#comment"}},[s._v("Promise的源码实现")])]),t("li",[t("a",{attrs:{href:"https://zhuanlan.zhihu.com/p/59363256"}},[s._v("手写 Promise")])])])])}],n={data:{title:"写一个Promise(一)",sidebar:["前言","代码","总结"]}},e=n,c=t("2877"),v=Object(c["a"])(e,l,i,!1,null,null,null);a["default"]=v.exports}});
//# sourceMappingURL=app.106b96b1.js.map